import{e as I,t as k,h as w,d as B,m as S,r as D,j as U,k as F,l as P,c as R}from"./utils-B-CemkDS.js";import{S as h}from"./sweetalert2-z6gKu1nJ.js";import{a as v}from"./axios-B4uVmeYG.js";import{r as E,o,c as n,a as s,t as c,j as l,k as p,F as _,h as m,s as O,e as u,n as b,v as C,b as g,m as y,f as q}from"./app-e3q45BkK.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={data:function(){return{data:{},transaction:{id:"",contract_start_date:"",contract_end_date:"",contract_status:1,due_day:"",first_due_date:"",generation_date:"",transaction_type:"",modality:"",responsible_insurance:"",responsible_iptu:"",type_of_charge:1,observations:"",witness:"",insurance_number:"",status_transact:"",security_deposit:"",penalty_value:0,interest_month_value:0,administrative_tax:0,other_transfers:0,property_value:0,insurance_value:0,condo_value:"",iptu_value:0,final_value:"",number_installments:1,id_property:"",id_locator:"",id_renter:"",id_first_guarantor:"",id_second_guarantor:"",id_keys:"",id_broker:"",id_condo:""},total_remaining_installments:0,properties:{condo:{}},renters:{},renters_filtered:{},guarantors:{},brokers:{},locators:{},config:{decimal:".",thousands:"",precision:2,masked:!0},due_day:I,transaction_type:k,status_transact:w,contract_status:B,modality:S,responsible_insurance:D,responsible_iptu:U,type_of_charge:F,action_contract_status:P,property:{},setting:{},edit:!1,onError:R}},computed:{filteredGuarantors(){return this.guarantors.filter(t=>t.id!==this.transaction.id_first_guarantor)??{}}},methods:{getTransactionById(t){this.edit=!0,v.get("/transactions/"+t).then(a=>{this.transaction=a.data.transaction;const d=this.transaction.installments.filter(V=>V.date_received==null)??0;this.total_remaining_installments=d.length??0}).catch(a=>{console.log(a),h.fire({position:"top-end",icon:"error",title:a.response.data.message,showConfirmButton:!1,timer:2500})})},getPropertiesByIdLocator(t){this.resetValues(),t?v.get("/property-by-locator/"+t).then(a=>{this.properties=a.data.properties}).catch(a=>{h.fire({position:"top-end",icon:"error",title:a.response.data.message,showConfirmButton:!1,timer:2500})}):this.property={}},resetValues(){this.properties={},this.transaction.id_property="",this.transaction.penalty_value=0,this.transaction.interest_month_value=0,this.transaction.other_transfers=0,this.transaction.iptu_value=0,this.transaction.insurance_value=0,this.transaction.property_value=0,this.transaction.number_installments=0,this.transaction.administrative_tax=0,this.transaction.final_value=0,this.transaction.responsible_insurance="",this.transaction.transaction_type=""},getProperty(t){v.get("/properties/"+t).then(a=>{this.property=a.data.property,this.property&&(this.transaction.transaction_type=this.property.status,this.transaction.administrative_tax=this.property.administrative_tax_percentual)}).catch(a=>{console.error("Houve um problema com a requisição:",a)})},getLocators(){v.get("/locators").then(t=>{this.locators=t.data.locators.data}).catch(t=>{console.error("Houve um problema com a requisição:",t)})},getRenters(){v.get("/renters").then(t=>{const a=t.data.renters.data;this.renters=a,console.log(a),this.renters_filtered=a.filter(d=>!d.transaction||!Array.isArray(d.transaction)||d.transaction.length===0||d.transaction.some(V=>V.contract_status!==1))}).catch(t=>{console.error("Houve um problema com a requisição:",t)})},getGuarantors(){v.get("/guarantors",{}).then(t=>{this.guarantors=t.data.guarantors.data}).catch(t=>{console.error("Houve um problema com a requisição:",t)})},getBrokers(){v.get("/users").then(t=>{this.brokers=t.data.users.data}).catch(t=>{console.error("Houve um problema com a requisição:",t)})},treatProperty(t){t?(this.property=this.properties.filter((a,d)=>a.id==t)[0],this.property.id_condo!=""&&this.property.condo&&(this.transaction.id_condo=this.property.id_condo,this.transaction.property_value=this.property.rental_value,this.transaction.transaction_type=this.property.purpose,this.transaction.condo_value=this.property.condo_value,this.transaction.transaction_type==2?this.transaction.number_installments=12:this.transaction.number_installments=0),this.property.iptu_value!=""&&(this.transaction.iptu_value=this.property.iptu_value,this.transaction.responsible_iptu=2),this.treatTaxValue(),this.treatValues()):this.property={}},treatTaxValue(){this.property&&this.setting&&(this.transaction.administrative_tax=this.property.rental_value*(this.setting.administrative_tax/100).toFixed(2))},treatDate(t){let a=new Date(t);a.setMonth(a.getMonth()+12),this.transaction.contract_end_date=a.toISOString().slice(0,10)},saveTransaction(){h.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, a transação será salva, as parcelas serão geradas e o status do imóvel será alterado.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f89d52",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&this.save()})},renewTransaction(){h.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, a transação atual será finalizada e gerada uma nova transação de renovação",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f89d52",cancelButtonColor:"#d33",confirmButtonText:"Sim",denyButtonText:"Don't save",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&this.renew()})},finishOrCancelTransaction(t){let a="",d="",V="";t==3?(a="Cancelar",d="cancelada"):t==4&&(a="Finalizar",d="finalizada"),this.total_remaining_installments>0&&(V="O locatário ainda possui "+this.total_remaining_installments+" parcelas à vencer. Você pode optar por apenas "+a.toLowerCase()+" o contrato, ou "+a.toLowerCase()+" a multa rescisória."),h.fire({title:"Você tem certeza?",text:"Ao avançar, a transação atual será "+d+". "+V,showDenyButton:this.total_remaining_installments>0,icon:"warning",showCancelButton:!0,confirmButtonColor:"#f89d52",denyButtonColor:"#f89d52",cancelButtonColor:"#d33",confirmButtonText:a+" e gerar multa",denyButtonText:a+" a transação",cancelButtonText:"Cancelar"}).then(T=>{T.isConfirmed?this.updateTransaction(t,!0):T.isDenied&&this.updateTransaction(t,!1)})},save(){v.post("/transactions",this.transaction).then(t=>{h.fire({position:"top-end",icon:"success",title:t.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(t=>{t=this.onError(t),h.fire({position:"top-end",icon:"error",title:t.message,showConfirmButton:!1,timer:2500})})},renew(){v.post("/transactions",this.transaction).then(t=>{h.fire({position:"top-end",icon:"success",title:t.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(t=>{t=this.onError(t),h.fire({position:"top-end",icon:"error",title:t.message,showConfirmButton:!1,timer:2500})})},updateTransaction(t,a){v.post("/transaction/"+this.$route.params.id+"/cancel-finish-transaction",{contract_status:t,generate_penalty:a,total_remaining_installments:this.total_remaining_installments,id_property:this.transaction.property.id,id_renter:this.transaction.id_renter}).then(d=>{h.fire({position:"top-end",icon:"success",title:d.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(d=>{h.fire({position:"top-end",icon:"error",title:d.response.data.message,showConfirmButton:!1,timer:2500})})},back(){this.$router.go(-1)},getSettings(){v.get("/settings/1").then(t=>{this.setting=t.data.setting}).catch(t=>{console.error("Houve um problema com a requisição:",t)})},treatValues(){if(this.transaction.property_value!=""&&this.setting.administrative_tax!=""){this.transaction.administrative_tax=(parseFloat(this.transaction.property_value?this.transaction.property_value:0)+parseFloat(this.transaction.iptu_value?this.transaction.iptu_value:0))*(this.setting.administrative_tax/100).toFixed(2);let t=parseFloat(this.transaction.property_value)+parseFloat(this.transaction.penalty_value?this.transaction.penalty_value:0)+parseFloat(this.transaction.interest_month_value?this.transaction.interest_month_value:0)+parseFloat(this.transaction.other_transfers?this.transaction.other_transfers:0)+parseFloat(this.transaction.iptu_value?this.transaction.iptu_value:0)+parseFloat(this.transaction.condo_value?this.transaction.condo_value:0)+parseFloat(this.transaction.insurance_value?this.transaction.insurance_value:0);this.transaction.final_value=t}},treatIptu(t){t!=2?(this.transaction.final_value=parseFloat(this.transaction.final_value)-parseFloat(this.transaction.iptu_value),this.transaction.iptu_value=0):(this.transaction.iptu_value=this.property.iptu_value,this.treatValues())},treatInsurance(t){t!=1&&(this.transaction.insurance_value=0),this.treatValues()},treatGuarantor(t){t==""&&(this.transaction.id_second_guarantor=0)},treatModality(){this.transaction.security_deposit="",this.transaction.id_first_guarantor="",this.transaction.id_second_guarantor="",this.transaction.insurance_value="",this.transaction.responsible_insurance="",this.transaction.insurance_number=""},validateContractEndDate(t){return new Date(t)>new Date},validateContractExpirationDate(t){return new Date(t)<=new Date}},created(){this.getRenters(),this.getLocators(),this.getBrokers(),this.getGuarantors(),this.getSettings(),this.$route.params.id&&this.getTransactionById(this.$route.params.id)}},L={class:"container-fluid"},M={class:"col-md-12"},G=s("h2",null,"Transações",-1),z={class:"card card-primary"},H={class:"card-header"},j={class:"card-title"},$={class:"card-body"},W={class:"row"},Q={class:"col-sm-2"},J={class:"form-group"},K=s("label",{for:"inputContractStatus"},"Status do Contrato ",-1),X={key:0,class:"form-control",readonly:""},Y=s("option",{value:""},"Selecione... ",-1),Z=["value","disabled"],x={class:"col-sm-4"},tt={class:"form-group"},st=s("label",{for:"inputLocator"},"Locatário",-1),et=["disabled"],at=["id","value"],ot=["disabled"],nt=s("option",{value:""},"Selecione...",-1),it=["id","value"],rt={key:2,class:"form-control",readonly:""},lt={class:"col-sm-3"},dt={class:"form-group"},ct=s("label",{for:"inputIdLocator"},"Proprietário do Imóvel",-1),ut=["disabled"],pt=s("option",{value:""},"Selecione...",-1),_t=["id","value"],mt={key:0,class:"col-sm-3"},ht={class:"form-group"},vt=s("label",{for:"inputIdImovel"},"Imóvel ",-1),ft=["value"],gt={class:"form-control",readonly:""},yt={key:1,class:"col-sm-3"},bt={class:"form-group"},Vt={key:0,style:"color: #f89d52;"},Ct=s("b",null,"Nenhum Imóvel Disponível",-1),Tt=[Ct],It={key:1,for:"inputIdImovel"},kt=["disabled"],wt={key:0,value:""},Bt=s("option",{value:""},"Selecione...",-1),St=["id","value"],Dt={class:"row"},Ut={class:"form-group"},Ft=s("label",{for:"inputTransactionType"},"Tipo de Transação",-1),Pt=["disabled"],Rt=s("option",{value:""},"Selecione..",-1),Et=["value"],Ot={class:"form-group"},qt=s("label",{for:"inputResponsibleIptu"},"Responsável IPTU",-1),Nt=["disabled"],At=s("option",{value:""},"Selecione...",-1),Lt=["value"],Mt={class:"form-group"},Gt=s("label",{for:"inputTypeOfCharge"},"Tipo de Pagamento",-1),zt=["disabled"],Ht=s("option",{value:""},"Selecione...",-1),jt=["value"],$t={key:1,class:"col-sm-3"},Wt={class:"form-group"},Qt=s("label",{for:"inputModality"},"Modalidade",-1),Jt=["disabled"],Kt=s("option",{value:""},"Selecione...",-1),Xt=["value"],Yt={class:"row"},Zt={class:"form-group"},xt=s("label",{for:"inputIdBroken"},"Corretor",-1),ts=["disabled"],ss=s("option",{value:""},"Selecione...",-1),es=["id","value"],as={class:"form-group"},os=s("label",{for:"inputDueDay"},"Dia de Vencimento",-1),ns=["disabled"],is=s("option",{value:""},"Selecione...",-1),rs=["value"],ls={key:0,class:"col-sm-3"},ds={class:"form-group"},cs=s("label",{for:"inputContractStartDate"},"Início do Contrato",-1),us=["disabled"],ps={key:1,class:"col-sm-3"},_s={class:"form-group"},ms=s("label",{for:"inputContractEndDate"},"Término do Contrato",-1),hs=["disabled"],vs={class:"row"},fs={class:"col-sm-6"},gs={class:"form-group"},ys=s("label",{for:"inputWitness"},"Testemunha",-1),bs=["disabled"],Vs={class:"col-sm-6"},Cs={class:"form-group"},Ts=s("label",{for:"inputObservations"},"Observações",-1),Is=["disabled"],ks={key:0,class:"row"},ws=s("div",{class:"col-sm-12"},[s("div",{class:"card-footer"})],-1),Bs=[ws],Ss={key:1,class:"row"},Ds={class:"col-sm-6"},Us={class:"form-group"},Fs=s("label",{for:"inputIdFirstGuarantor"},"1º Fiador",-1),Ps=["disabled"],Rs=s("option",{value:""},"Selecione...",-1),Es=["id","value"],Os={class:"col-sm-6"},qs={class:"form-group"},Ns=s("label",{for:"inputIdSecondGuarantor"},"2º Fiador",-1),As=["disabled"],Ls=s("option",{value:""},"Selecione o Fiador",-1),Ms=["id","value"],Gs={key:2,class:"row"},zs={class:"col-sm-6"},Hs={class:"form-group"},js=s("label",{for:"inputSecurityDeposit"},"Valor Caução",-1),$s={class:"input-group"},Ws=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-dollar-sign"})])],-1),Qs={key:3,class:"row"},Js={class:"col-sm-6"},Ks={class:"form-group"},Xs=s("label",{for:"inputInsuranceNumber"},"Número do Seguro",-1),Ys=["disabled"],Zs={class:"col-sm-3"},xs={class:"form-group"},te=s("label",{for:"inputResponsibleInsurance"},"Responsável Seguro",-1),se=["disabled"],ee=s("option",{value:""},"Selecione...",-1),ae=["value"],oe={key:0,class:"col-sm-3"},ne={class:"form-group"},ie=s("label",{for:"inputInsuranceValue"},"Valor Parcela Seguro",-1),re={class:"input-group"},le=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-dollar-sign"})])],-1),de={key:4,class:"row"},ce=s("div",{class:"col-sm-12"},[s("div",{class:"card-footer"})],-1),ue=[ce],pe={class:"row"},_e={key:0,class:b("col-sm-3")},me={class:"form-group"},he=s("label",{for:"inputNumberInstallments"},"Parcelas",-1),ve=["disabled"],fe={class:b("col-sm-3")},ge={class:"form-group"},ye=s("label",{for:"inputValueProperty"},"R$ Propriedade",-1),be={class:"input-group"},Ve=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-dollar-sign"})])],-1),Ce={key:1,class:b("col-sm-3")},Te={class:"form-group"},Ie=s("label",{for:"InputPercentualAdministrativeTax"},"% Taxa Administ. ",-1),ke={class:"input-group"},we=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-solid fa-percentage"})])],-1),Be={key:2,class:b("col-sm-3")},Se={class:"form-group"},De=s("label",{for:"inputAdministrativeTax"},"R$ Taxa Administ.",-1),Ue={class:"input-group"},Fe=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-dollar-sign"})])],-1),Pe={key:3,class:"col-sm-3"},Re={class:"form-group"},Ee=s("label",{for:"inputIptuValue"},"IPTU",-1),Oe={class:"input-group"},qe=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-dollar-sign"})])],-1),Ne={key:4,class:"col-sm-3"},Ae={class:"form-group"},Le=s("label",{for:"inputCondoValue"},"Valor do Condomínio",-1),Me={class:"input-group"},Ge=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-dollar-sign"})])],-1),ze={class:"col-sm-3"},He={class:"form-group"},je=s("label",{for:"inputOthersTransfers"},"Out. Repasses",-1),$e={class:"input-group"},We=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-dollar-sign"})])],-1),Qe={class:"col-sm-3"},Je={class:"form-group"},Ke={for:"inputFinalValue"},Xe={class:"input-group"},Ye=s("div",{class:"input-group-prepend"},[s("span",{class:"input-group-text"},[s("i",{class:"fas fa-dollar-sign"})])],-1),Ze=q('<div class="row"><div class="col-sm-12"><div class="card-footer"></div></div></div><div class="row"></div><div class="row"><div class="col-sm-12"><div class="card-footer"></div></div></div><br>',4),xe={class:"modal-footer justify-content-center"};function ta(t,a,d,V,T,r){const f=E("money3");return o(),n("div",L,[s("div",M,[G,s("div",z,[s("div",H,[s("h3",j,c(t.transaction.id?"Editar Transação":"Cadastrar Transação"),1)]),s("div",$,[s("div",W,[s("div",Q,[s("div",J,[K,t.transaction.id==""?(o(),n("div",X,c(t.contract_status[t.transaction.contract_status]),1)):l((o(),n("select",{key:1,class:"custom-select",id:"inputContractStatus",name:"contract_status","onUpdate:modelValue":a[0]||(a[0]=e=>t.transaction.contract_status=e)},[Y,(o(!0),n(_,null,m(t.action_contract_status,(e,i)=>(o(),n("option",{key:i,value:i,disabled:r.validateContractEndDate(t.transaction.contract_end_date)&&(i==5||i==2)||r.validateContractExpirationDate(t.transaction.contract_end_date)&&(i==2||i==3||i==1),style:O(r.validateContractEndDate(t.transaction.contract_end_date)&&(i==5||i==2)||r.validateContractExpirationDate(t.transaction.contract_end_date)&&(i==2||i==3||i==1)?"background-color: #e9ecef;":"")},c(e),13,Z))),128))],512)),[[p,t.transaction.contract_status]])])]),s("div",x,[s("div",tt,[st,t.transaction.id?l((o(),n("select",{key:0,class:"custom-select",id:"inputIdRenter",name:"id_renter",required:"","onUpdate:modelValue":a[1]||(a[1]=e=>t.transaction.id_renter=e),disabled:t.edit},[(o(!0),n(_,null,m(t.renters,e=>(o(),n("option",{key:e.id,id:e.id,value:e.id},c(e.people.name+" "+e.people.surname+" - ["+e.id+"]"),9,at))),128))],8,et)),[[p,t.transaction.id_renter]]):t.renters_filtered.length>0?l((o(),n("select",{key:1,class:"custom-select",id:"inputIdRenter",name:"id_renter",required:"","onUpdate:modelValue":a[2]||(a[2]=e=>t.transaction.id_renter=e),disabled:t.edit},[nt,(o(!0),n(_,null,m(t.renters_filtered,e=>(o(),n("option",{key:e.id,id:e.id,value:e.id},c(e.people.name+" "+e.people.surname+" - ["+e.id+"]"),9,it))),128))],8,ot)),[[p,t.transaction.id_renter]]):(o(),n("div",rt," Nenhum locatário disponível"))])]),s("div",lt,[s("div",dt,[ct,l(s("select",{class:"custom-select",id:"inputIdLocator",name:"id_locator",required:"","onUpdate:modelValue":a[3]||(a[3]=e=>t.transaction.id_locator=e),disabled:t.edit,onChange:a[4]||(a[4]=e=>r.getPropertiesByIdLocator(t.transaction.id_locator))},[pt,(o(!0),n(_,null,m(t.locators,e=>(o(),n("option",{key:e.id,id:e.id,value:e.id},c(e.people.name+" "+e.people.surname+" - ["+e.id+"]"),9,_t))),128))],40,ut),[[p,t.transaction.id_locator]])])]),t.edit&&t.transaction.property?(o(),n("div",mt,[s("div",ht,[vt,s("input",{class:"form-control",type:"hidden",value:t.transaction.property.id},null,8,ft),s("div",gt,c("["+t.transaction.property.reference+"] - "+t.transaction.property.description),1)])])):(o(),n("div",yt,[s("div",bt,[t.transaction.id_locator!=""&&t.properties.length==0?(o(),n("label",Vt,Tt)):(o(),n("label",It,"Imóvel")),l(s("select",{class:"custom-select",id:"inputIdImovel",name:"id_property",required:"",onChange:a[5]||(a[5]=e=>r.treatProperty(e.target.value)),"onUpdate:modelValue":a[6]||(a[6]=e=>t.transaction.id_property=e),disabled:t.transaction.id_locator==""||t.transaction.id_locator!=""&&t.properties.length==0},[t.transaction.id_locator!=""&&t.properties.length==0?(o(),n("option",wt," Nenhum Imóvel...")):u("",!0),Bt,(o(!0),n(_,null,m(t.properties,(e,i)=>(o(),n("option",{key:i,id:i,value:e.id},c("["+e.reference+"] - "+e.description),9,St))),128))],40,kt),[[p,t.transaction.id_property]])])]))]),s("div",Dt,[s("div",{class:b(t.transaction.transaction_type==2?"col-sm-3":"col-sm-6")},[s("div",Ut,[Ft,l(s("select",{class:"custom-select",id:"inputTransactionType",name:"transaction_type","onUpdate:modelValue":a[7]||(a[7]=e=>t.transaction.transaction_type=e),disabled:t.edit||t.transaction.id_property==""},[Rt,(o(!0),n(_,null,m(t.transaction_type,(e,i)=>(o(),n("option",{key:i,value:i},c(e),9,Et))),128))],8,Pt),[[p,t.transaction.transaction_type]])])],2),t.transaction.transaction_type==2?(o(),n("div",{key:0,class:b(t.transaction.transaction_type==1?"col-sm-4":"col-sm-3")},[s("div",Ot,[qt,l(s("select",{class:"custom-select",id:"inputResponsibleIptu",name:"responsible_iptu",onChange:a[8]||(a[8]=e=>r.treatIptu(e.target.value)),"onUpdate:modelValue":a[9]||(a[9]=e=>t.transaction.responsible_iptu=e),disabled:t.edit},[At,(o(!0),n(_,null,m(t.responsible_iptu,(e,i)=>(o(),n("option",{key:i,value:i},c(e),9,Lt))),128))],40,Nt),[[p,t.transaction.responsible_iptu]])])],2)):u("",!0),s("div",{class:b(t.transaction.transaction_type==2?"col-sm-3":"col-sm-6")},[s("div",Mt,[Gt,l(s("select",{class:"custom-select",id:"inputTypeOfCharge",name:"type_of_charge",disabled:t.edit,"onUpdate:modelValue":a[10]||(a[10]=e=>t.transaction.type_of_charge=e)},[Ht,(o(!0),n(_,null,m(t.type_of_charge,(e,i)=>(o(),n("option",{key:i,value:i},c(e),9,jt))),128))],8,zt),[[p,t.transaction.type_of_charge]])])],2),t.transaction.transaction_type==2?(o(),n("div",$t,[s("div",Wt,[Qt,l(s("select",{class:"custom-select",id:"inputModality",name:"modality",disabled:t.edit,"onUpdate:modelValue":a[11]||(a[11]=e=>t.transaction.modality=e),onChange:a[12]||(a[12]=e=>r.treatModality(e.target.value))},[Kt,(o(!0),n(_,null,m(t.modality,(e,i)=>(o(),n("option",{key:i,value:i},c(e),9,Xt))),128))],40,Jt),[[p,t.transaction.modality]])])])):u("",!0)]),s("div",Yt,[s("div",{class:b(t.transaction.transaction_type==2||t.transaction.transaction_type==""?"col-sm-3":"col-sm-6")},[s("div",Zt,[xt,l(s("select",{class:"custom-select",id:"inputIdBroken",name:"id_broker",disabled:t.edit,"onUpdate:modelValue":a[13]||(a[13]=e=>t.transaction.id_broker=e)},[ss,(o(!0),n(_,null,m(t.brokers,(e,i)=>(o(),n("option",{key:i,id:i,value:e.id},c(e.name),9,es))),128))],8,ts),[[p,t.transaction.id_broker]])])],2),s("div",{class:b(t.transaction.transaction_type==2||t.transaction.transaction_type==""?"col-sm-3":"col-sm-6")},[s("div",as,[os,l(s("select",{class:"custom-select",id:"inputDueDay",name:"due_day",disabled:t.edit,"onUpdate:modelValue":a[14]||(a[14]=e=>t.transaction.due_day=e)},[is,(o(!0),n(_,null,m(t.due_day,(e,i)=>(o(),n("option",{key:i,value:i},c(e),9,rs))),128))],8,ns),[[p,t.transaction.due_day]])])],2),t.transaction.transaction_type==2?(o(),n("div",ls,[s("div",ds,[cs,l(s("input",{type:"date",class:"form-control",id:"inputContractStartDate",name:"contract_start_date","onUpdate:modelValue":a[15]||(a[15]=e=>t.transaction.contract_start_date=e),disabled:t.edit,onChange:a[16]||(a[16]=e=>r.treatDate(e.target.value))},null,40,us),[[C,t.transaction.contract_start_date]])])])):u("",!0),t.transaction.transaction_type==2?(o(),n("div",ps,[s("div",_s,[ms,l(s("input",{type:"date",class:"form-control",id:"inputContractEndDate",name:"contract_end_date","onUpdate:modelValue":a[17]||(a[17]=e=>t.transaction.contract_end_date=e),disabled:t.edit||t.transaction.contract_start_date==""},null,8,hs),[[C,t.transaction.contract_end_date]])])])):u("",!0)]),s("div",vs,[s("div",fs,[s("div",gs,[ys,l(s("input",{type:"text",class:"form-control",id:"inputWitness",placeholder:"Informe a Testemunha",name:"witness",maxlength:"100",disabled:t.edit,"onUpdate:modelValue":a[18]||(a[18]=e=>t.transaction.witness=e)},null,8,bs),[[C,t.transaction.witness]])])]),s("div",Vs,[s("div",Cs,[Ts,l(s("input",{type:"text",class:"form-control",id:"inputObservations",placeholder:"Descreva as Observações",name:"observations",maxlength:"255",disabled:t.edit,"onUpdate:modelValue":a[19]||(a[19]=e=>t.transaction.observations=e)},null,8,Is),[[C,t.transaction.observations]])])])]),t.transaction.transaction_type==2&&t.transaction.modality?(o(),n("div",ks,Bs)):u("",!0),t.transaction.transaction_type==2&&t.transaction.modality==1?(o(),n("div",Ss,[s("div",Ds,[s("div",Us,[Fs,l(s("select",{class:"custom-select",id:"inputIdFirstGuarantor",name:"id_first_guarantor",required:"","onUpdate:modelValue":a[20]||(a[20]=e=>t.transaction.id_first_guarantor=e),disabled:t.edit,onChange:a[21]||(a[21]=e=>r.treatGuarantor(e.target.value))},[Rs,(o(!0),n(_,null,m(t.guarantors,e=>(o(),n("option",{key:e.id,id:e.id,value:e.id},c(e.people.name+" "+e.people.surname),9,Es))),128))],40,Ps),[[p,t.transaction.id_first_guarantor]])])]),s("div",Os,[s("div",qs,[Ns,l(s("select",{class:"custom-select",id:"inputIdSecondGuarantor",name:"id_second_guarantor",required:"","onUpdate:modelValue":a[22]||(a[22]=e=>t.transaction.id_second_guarantor=e),disabled:t.edit||t.transaction.id_first_guarantor==""},[Ls,(o(!0),n(_,null,m(r.filteredGuarantors,(e,i)=>(o(),n("option",{key:i,id:i,value:e.id},c(e.people.name),9,Ms))),128))],8,As),[[p,t.transaction.id_second_guarantor]])])])])):u("",!0),t.transaction.transaction_type==2&&t.transaction.modality==2?(o(),n("div",Gs,[s("div",zs,[s("div",Hs,[js,s("div",$s,[Ws,g(f,y({class:"form-control",modelValue:t.transaction.security_deposit,"onUpdate:modelValue":a[23]||(a[23]=e=>t.transaction.security_deposit=e)},t.config,{id:"inputSecurityDeposit",name:"security_deposit",disabled:t.edit}),null,16,["modelValue","disabled"])])])])])):u("",!0),t.transaction.transaction_type==2&&t.transaction.modality==3?(o(),n("div",Qs,[s("div",Js,[s("div",Ks,[Xs,l(s("input",{type:"text",class:"form-control",id:"inputInsuranceNumber",placeholder:"Informe o Número do Seguro",name:"insurance_number",maxlength:"300","onUpdate:modelValue":a[24]||(a[24]=e=>t.transaction.insurance_number=e),disabled:t.edit},null,8,Ys),[[C,t.transaction.insurance_number]])])]),s("div",Zs,[s("div",xs,[te,l(s("select",{class:"custom-select",id:"inputResponsibleInsurance",onChange:a[25]||(a[25]=e=>r.treatInsurance(e.target.value)),name:"responsible_insurance",required:"","onUpdate:modelValue":a[26]||(a[26]=e=>t.transaction.responsible_insurance=e),disabled:t.edit},[ee,(o(!0),n(_,null,m(t.responsible_insurance,(e,i)=>(o(),n("option",{key:i,value:i},c(e),9,ae))),128))],40,se),[[p,t.transaction.responsible_insurance]])])]),t.transaction.responsible_insurance==2?(o(),n("div",oe,[s("div",ne,[ie,s("div",re,[le,g(f,y({class:"form-control",modelValue:t.transaction.insurance_value,"onUpdate:modelValue":a[27]||(a[27]=e=>t.transaction.insurance_value=e)},t.config,{onBlur:a[28]||(a[28]=e=>r.treatValues()),id:"inputInsuranceValue",name:"insurance_value",disabled:t.edit}),null,16,["modelValue","disabled"])])])])):u("",!0)])):u("",!0),t.transaction.transaction_type==2?(o(),n("div",de,ue)):u("",!0),s("div",pe,[t.transaction.transaction_type==2?(o(),n("div",_e,[s("div",me,[he,l(s("input",{type:"text",class:"form-control",id:"inputNumberInstallments",placeholder:"Quant.",name:"number_installments",maxlength:"2","onUpdate:modelValue":a[29]||(a[29]=e=>t.transaction.number_installments=e),disabled:t.edit},null,8,ve),[[C,t.transaction.number_installments]])])])):u("",!0),s("div",fe,[s("div",ge,[ye,s("div",be,[Ve,g(f,y({class:"form-control",modelValue:t.transaction.property_value,"onUpdate:modelValue":a[30]||(a[30]=e=>t.transaction.property_value=e)},t.config,{onBlur:a[31]||(a[31]=e=>r.treatValues()),id:"inputValueProperty",name:"property_value",disabled:t.edit}),null,16,["modelValue","disabled"])])])]),t.transaction.transaction_type?(o(),n("div",Ce,[s("div",Te,[Ie,s("div",ke,[we,g(f,y({class:"form-control",modelValue:t.setting.administrative_tax,"onUpdate:modelValue":a[32]||(a[32]=e=>t.setting.administrative_tax=e),onBlur:a[33]||(a[33]=e=>r.treatValues())},t.config,{id:"InputPercentualAdministrativeTax",disabled:t.edit,name:"percentual_administrative_tax"}),null,16,["modelValue","disabled"])])])])):u("",!0),t.transaction.transaction_type?(o(),n("div",Be,[s("div",Se,[De,s("div",Ue,[Fe,g(f,y({class:"form-control",modelValue:t.transaction.administrative_tax,"onUpdate:modelValue":a[34]||(a[34]=e=>t.transaction.administrative_tax=e),disabled:t.edit},t.config,{id:"inputAdministrativeTax",name:"administrative_tax"}),null,16,["modelValue","disabled"])])])])):u("",!0),t.transaction.responsible_iptu==2&&t.transaction.transaction_type==2?(o(),n("div",Pe,[s("div",Re,[Ee,s("div",Oe,[qe,g(f,y({class:"form-control",modelValue:t.transaction.iptu_value,"onUpdate:modelValue":a[35]||(a[35]=e=>t.transaction.iptu_value=e)},t.config,{onBlur:a[36]||(a[36]=e=>r.treatValues()),id:"inputIptuValue",name:"iptu_value",disabled:t.edit}),null,16,["modelValue","disabled"])])])])):u("",!0),[1,5,10,12,18,21].includes(t.property.type)?(o(),n("div",Ne,[s("div",Ae,[Le,s("div",Me,[Ge,g(f,y({class:"form-control",modelValue:t.transaction.condo_value,"onUpdate:modelValue":a[37]||(a[37]=e=>t.transaction.condo_value=e)},t.config,{disabled:t.edit,id:"inputCondoValue",name:"condo_value",onBlur:a[38]||(a[38]=e=>r.treatValues()),readonly:""}),null,16,["modelValue","disabled"])])])])):u("",!0),s("div",ze,[s("div",He,[je,s("div",$e,[We,g(f,y({class:"form-control",modelValue:t.transaction.other_transfers,"onUpdate:modelValue":a[39]||(a[39]=e=>t.transaction.other_transfers=e)},t.config,{disabled:t.edit,onBlur:a[40]||(a[40]=e=>r.treatValues()),id:"inputOthersTransfers",name:"other_transfers"}),null,16,["modelValue","disabled"])])])]),s("div",Qe,[s("div",Je,[s("label",Ke,"R$ Final "+c(t.transaction.transaction_type==2?"da Parcela":""),1),s("div",Xe,[Ye,g(f,y({class:"form-control",modelValue:t.transaction.final_value,"onUpdate:modelValue":a[41]||(a[41]=e=>t.transaction.final_value=e)},t.config,{id:"inputFinalValue",name:"final_value",disabled:""}),null,16,["modelValue"])])])])]),Ze]),s("div",xe,[t.transaction.id?t.transaction.contract_status==3?(o(),n("button",{key:1,type:"submit",class:"btn btn-primary",onClick:a[43]||(a[43]=e=>r.finishOrCancelTransaction(3))},"Cancelar Transação")):t.transaction.contract_status==4?(o(),n("button",{key:2,type:"submit",class:"btn btn-primary",onClick:a[44]||(a[44]=e=>r.finishOrCancelTransaction(4))},"Finalizar Transação")):t.transaction.contract_status==5?(o(),n("button",{key:3,type:"submit",class:"btn btn-primary",onClick:a[45]||(a[45]=e=>r.renewTransaction())},"Renovar Transação")):u("",!0):(o(),n("button",{key:0,type:"submit",class:"btn btn-primary",onClick:a[42]||(a[42]=e=>r.saveTransaction())},"Salvar")),s("button",{class:"btn btn-danger",onClick:a[46]||(a[46]=e=>r.back())},"Voltar")])])])])}const ia=N(A,[["render",ta]]);export{ia as default};
