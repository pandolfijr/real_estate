import{a as m}from"./axios-B4uVmeYG.js";import{S as i}from"./sweetalert2-z6gKu1nJ.js";import h from"./Search-D14QtKw0.js";import{f}from"./utils-B-CemkDS.js";import{r as c,o as s,c as o,a as t,b as _,F as b,h as y,t as r,w as v}from"./app-e3q45BkK.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={data:function(){return{installments:{id:"",current_installment:"",total_installments:"",status:"",due_date:"",date_received:"",description:"",identification_code:"",observations:"",type_installment:"",id_transact:"",id_locator:"",id_property:"",payment_method:"",id_check:"",installment_value:"",insurance_value:"",insurance_number:"",installment_total_value:"",id_renter:"",property:{},locator:{},renter:{}},formatDate:f}},components:{Search:h},methods:{getInstallments(a){return m.get("/installments",{params:{...a,transfer:!0,category:17}}).then(n=>{this.installments=n.data.installments.data}).catch(n=>{i.fire({position:"top-end",icon:"error",title:n.response.data.message,showConfirmButton:!1,timer:2500})})},validateStatus(a){return!a||a&&!a.status_transfer?(i.fire({position:"top-end",icon:"error",title:"Selecione o Status do Repasse",showConfirmButton:!1,timer:2500}),!1):!0},treatValue(a,n){let l=0;return l=n-a.administrative_tax_value,l.toFixed(2)}},beforeMount(){}},x={class:"container-fluid"},R={class:"col-md-12"},S=t("h2",null,"Repasses",-1),D={class:"card card-primary"},w=t("div",{class:"card-header"},[t("h3",{class:"card-title"},"Contas")],-1),V={class:"card-body table-responsive p-0",style:{}},B={key:0,class:"scrollable text-left"},C={class:"table table-head-fixed text-nowrap text-left table-striped"},F=t("thead",null,[t("tr",null,[t("th",{class:"md='auto'"},"ID"),t("th",{class:"md='auto'"},"Referência"),t("th",{class:"md='auto'"},"Locatário"),t("th",{class:"md='auto'"},"Proprietário"),t("th",{class:"md='auto'"},"Data Vencimento"),t("th",{class:"md='auto'"},"Data Recebimento"),t("th",{class:"md='auto'"},"Valor Repasse Estimado"),t("th",{class:"md='auto'"},"Valor Taxa Administrativa"),t("th",{class:"md='auto'"})])],-1),I={key:0},N=t("button",{type:"button",class:"btn btn-outline-info",title:"Fazer Repasse",style:{"margin-top":"-0.5em"}},[t("i",{class:"fas fa-dollar-sign",style:{padding:"0.3em"}})],-1),$={key:1},L=t("button",{type:"button",class:"btn btn-outline-secondary",style:{"margin-top":"-0.5em"},title:"Nenhuma Ação",disabled:""},[t("i",{class:"fas fa-hand-paper"})],-1),A=[L],E={key:2},P=["href"],T=t("button",{type:"button",class:"btn btn-outline-info",style:{"margin-top":"-0.5em"},title:"Imprimir Recibo de repasse"},[t("i",{class:"fas fa-print"})],-1),z=[T],M={key:3},j={key:1},q=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhuma conta encontrado.")])])])],-1),G=[q];function H(a,n,l,J,K,d){const u=c("search"),p=c("router-link");return s(),o("div",x,[t("div",R,[S,_(u,{route:"transfer",onSearch:d.getInstallments},null,8,["onSearch"]),t("div",D,[w,t("div",V,[a.installments&&a.installments.length>0?(s(),o("div",B,[t("table",C,[F,t("tbody",null,[(s(!0),o(b,null,y(a.installments,e=>(s(),o("tr",{key:e.id},[t("td",null,[t("b",null,r(e.id),1)]),t("td",null,[t("b",null,r(e.property.reference),1)]),t("td",null,r(e.renter.people.name+" "+e.renter.people.surname),1),t("td",null,r(e.locator.people.name+" "+e.locator.people.surname),1),t("td",null,r(e.due_date?a.formatDate(e.due_date):"-"),1),t("td",null,r(e.date_received?a.formatDate(e.date_received):"Pendente"),1),t("td",null,r("R$ "+d.treatValue(e.property,e.installment_total_value)),1),t("td",null,r("R$ "+e.property.administrative_tax_value),1),!e.status_transfer&&!e.id_casher_transfer?(s(),o("td",I,[_(p,{to:"/transfer/"+e.id+"/pay-off",class:"small-box-footer"},{default:v(()=>[N]),_:2},1032,["to"])])):(s(),o("td",$,A)),e.status_transfer&&e.id_casher_transfer?(s(),o("td",E,[t("a",{href:"/receipt/"+e.id+"/transfer",target:"_blank"},z,8,P)])):(s(),o("td",M))]))),128))])])])):(s(),o("div",j,G))])])])])}const Z=g(k,[["render",H]]);export{Z as default};
