import{v as k,y as D,z as g}from"./utils-B-CemkDS.js";import{a as h}from"./axios-B4uVmeYG.js";import{r as $,o as a,c as n,a as t,t as l,j as i,v as m,k as F,F as b,h as f,b as y,w as v}from"./app-e3q45BkK.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={data:function(){return{cash_registers:{},bank_account:{},filter:{initial_date:"",end_date:"",action:""},account_type:k,casher_action:D,getMonthDates:g}},methods:{getAccount(){h.get("/cashflow/"+this.$route.params.id,{params:this.filter}).then(o=>{this.cash_registers=o.data.cash_registers}).catch(o=>{console.error("Houve um problema com a requisição:",o)})},getBank(){h.get("/bank-accounts/"+this.$route.params.id).then(o=>{this.bank_account=o.data.bank_account}).catch(o=>{console.error("Houve um problema com a requisição:",o)})},getFilterMonthDates(){const{firstDayFormatted:o,lastDayFormatted:s}=this.getMonthDates();this.filter.initial_date=o,this.filter.end_date=s},formatDate(o){const s=new Date(o),c=String(s.getDate()).padStart(2,"0"),d=String(s.getMonth()+1).padStart(2,"0"),r=s.getFullYear();return`${c}/${d}/${r}`},back(){this.$router.go(-1)}},beforeMount(){this.getFilterMonthDates(),this.getBank(),this.getAccount()}},w={class:"container-fluid"},M={class:"col-md-12"},S={class:"card card-primary"},E=t("div",{class:"card-header"},[t("h3",{class:"card-title"}," Filtrar ")],-1),A={class:"card-body table-responsive p-0"},V={class:"card-body"},R={class:"row"},B={class:"col-sm-3"},I={class:"form-group"},q=t("label",{for:"inputExpectDate"},"Data Início",-1),N={class:"col-sm-3"},P={class:"form-group"},U=t("label",{for:"inputExpectDate"},"Data Fim",-1),H={class:"col-sm-3"},T={class:"form-group"},j=t("label",{for:"inputExpectDate"},"Ação",-1),z=t("option",{value:""},"Selecione a opção",-1),L=["value"],Y={class:"col-sm-3"},G={class:"form-group"},J={class:"card card-primary"},K=t("div",{class:"card-header"},[t("h3",{class:"card-title"},"Fluxo de Caixa")],-1),O={key:0,class:"card-body table-responsive p-0",style:{}},Q={key:0},W={class:"table table-head-fixed text-nowrap text-left table-striped"},X=t("thead",null,[t("tr",null,[t("th",null,"ID Conta"),t("th",null,"Tipo de Conta"),t("th",null,"Ação"),t("th",null,"Conta"),t("th",null,"Saldo Anterior"),t("th",null,"Valor"),t("th",null,"Saldo Atual")])],-1),Z={key:0},tt={key:1},et=t("b",null,"Repasse à Proprietário",-1),ot=[et],at={key:2},nt=t("b",null,"Parcela de Imóvel",-1),st=[nt],lt={key:3},it=t("b",null,"-",-1),ct=[it],dt={key:4,style:{color:"#f89d52"}},rt={key:5,style:{color:"#c82333"}},ut={key:6},_t=t("button",{type:"button",class:"btn btn-outline-info",style:{"margin-top":"-0.5em"}},[t("i",{class:"fas fa-solid fa-eye"})],-1),pt={key:7},ht=t("button",{type:"button",class:"btn btn-outline-info",style:{"margin-top":"-0.5em"}},[t("i",{class:"fas fa-solid fa-eye"})],-1),mt={key:8},bt=t("b",null,"-",-1),ft=[bt],yt={key:9,style:{color:"#f89d52"}},vt={key:10,style:{color:"#c82333"}},kt={key:1},Dt=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhuma conta bancária encontrada.")])])])],-1),gt=[Dt],$t={key:1},Ft=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhuma transação encontrada.")])])])],-1),xt=[Ft];function Ct(o,s,c,d,r,u){const _=$("router-link");return a(),n("div",w,[t("div",M,[t("h2",null,l(o.bank_account?o.bank_account.bank_name+" ("+o.account_type[o.bank_account.account_type]+") | "+o.bank_account.account_name:""),1),t("div",S,[E,t("div",A,[t("div",V,[t("div",R,[t("div",B,[t("div",I,[q,i(t("input",{type:"date",class:"form-control",id:"inputExpectDate",placeholder:"Informe a Data Esperada",name:"expect_date","onUpdate:modelValue":s[0]||(s[0]=e=>o.filter.initial_date=e),required:""},null,512),[[m,o.filter.initial_date]])])]),t("div",N,[t("div",P,[U,i(t("input",{type:"date",class:"form-control",id:"inputExpectDate",placeholder:"Informe a Data Esperada",name:"expect_date","onUpdate:modelValue":s[1]||(s[1]=e=>o.filter.end_date=e),required:""},null,512),[[m,o.filter.end_date]])])]),t("div",H,[t("div",T,[j,i(t("select",{class:"custom-select",id:"inputPaymentMethod",name:"payment_method","onUpdate:modelValue":s[2]||(s[2]=e=>o.filter.action=e)},[z,(a(!0),n(b,null,f(o.casher_action,(e,p)=>(a(),n("option",{key:p,value:p},l(e),9,L))),128))],512),[[F,o.filter.action]])])]),t("div",Y,[t("div",G,[t("button",{class:"btn btn-primary",onClick:s[3]||(s[3]=e=>u.getAccount()),style:{"margin-top":"2em","margin-right":"0.5em"}},"Filtrar"),t("button",{class:"btn btn-danger",onClick:s[4]||(s[4]=e=>u.back()),style:{"margin-top":"2em","margin-left":"0.5em"}},"Voltar")])])])])])]),t("div",J,[K,o.cash_registers.length>=1?(a(),n("div",O,[o.cash_registers?(a(),n("div",Q,[t("table",W,[X,t("tbody",null,[(a(!0),n(b,null,f(o.cash_registers,e=>(a(),n("tr",{key:e.id},[t("td",null,[t("b",null,l(e.id),1)]),e.id_account_pay_receive?(a(),n("td",Z,[t("b",null,l(e.action==1?"Conta Recebida":"Conta Paga"),1)])):e.id_installment_transfer?(a(),n("td",tt,ot)):e.id_installment?(a(),n("td",at,st)):(a(),n("td",lt,ct)),e.action==1?(a(),n("td",dt,[t("b",null,l(o.casher_action[e.action]),1)])):(a(),n("td",rt,[t("b",null,l(o.casher_action[e.action]),1)])),e.id_account_pay_receive?(a(),n("td",ut,[y(_,{to:e.action==1?"/account-receive/"+e.id_account_pay_receive+"/pay-off":"/account-pay/"+e.id_account_pay_receive+"/pay-off",class:"small-box-footer"},{default:v(()=>[_t]),_:2},1032,["to"])])):e.id_installment?(a(),n("td",pt,[y(_,{to:"/installment/"+e.id_installment+"/pay-off",class:"small-box-footer"},{default:v(()=>[ht]),_:2},1032,["to"])])):(a(),n("td",mt,ft)),t("td",null,[t("b",null,"R$ "+l(e.previous_value&&e.previous_value!=0?e.previous_value:"0.00"),1)]),e.action==1?(a(),n("td",yt,[t("b",null," + R$ "+l(e.account_value?e.account_value:"0.00"),1)])):(a(),n("td",vt,[t("b",null," - R$ "+l(e.account_value?e.account_value:"0.00"),1)])),t("td",null,[t("b",null,"R$ "+l(e.current_value?e.current_value:"0.00"),1)])]))),128))])])])):(a(),n("div",kt,gt))])):(a(),n("div",$t,xt))])])])}const At=x(C,[["render",Ct]]);export{At as default};
