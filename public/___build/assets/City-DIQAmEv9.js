import{S as r}from"./sweetalert2-z6gKu1nJ.js";import{a as n}from"./axios-B4uVmeYG.js";import{c as u}from"./utils-B-CemkDS.js";import{o as i,c as a,a as e,t as l,j as m,v as p,k as h,F as f,h as y}from"./app-e3q45BkK.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v={data:function(){return{data:{},city:{id:"",name:"",id_state:""},states:{},onError:u}},computed:{},methods:{getCity(){n.get("/cities/"+this.$route.params.id).then(t=>{this.city=t.data.city}).catch(t=>{console.error("Houve um problema com a requisição:",t)})},saveCity(){n.post("/cities",this.city).then(t=>{r.fire({position:"top-end",icon:"success",title:t.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(t=>{t=this.onError(t),r.fire({position:"top-end",icon:"error",title:t.message,showConfirmButton:!1,timer:2500})})},updateCity(){n.put("/cities/"+this.$route.params.id,this.city).then(t=>{r.fire({position:"top-end",icon:"success",title:t.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(t=>{r.fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:2500})})},back(){this.$router.go(-1)},getStates(){n.get("/states").then(t=>{this.states=t.data.states}).catch(t=>{console.error("Houve um problema com a requisição:",t)})}},created(){this.getStates(),this.$route.params.id&&this.getCity()}},C={class:"container-fluid"},b={class:"col-md-12"},g=e("h2",null,"Cidades",-1),k={class:"card card-primary"},$={class:"card-header"},w={class:"card-title"},S={class:"card-body"},B={class:"row"},E={class:"col-sm-8"},N={class:"form-group"},q=e("label",{for:"inputNome"},"Nome",-1),V={class:"col-sm-4"},j=e("label",{for:"inputCidade"},"Estado",-1),D=e("option",{value:""},"Selecione Estado",-1),F=["id","value"],H=e("div",{class:"row"},[e("div",{class:"col-sm-12"},[e("div",{class:"card-footer"})])],-1),M={class:"modal-footer justify-content-center"};function U(t,s,z,A,I,d){return i(),a("div",C,[e("div",b,[g,e("div",k,[e("div",$,[e("h3",w,l(t.city.id?"Editar Cidade":"Cadastrar Cidade"),1)]),e("div",S,[e("div",B,[e("div",E,[e("div",N,[q,m(e("input",{type:"text",class:"form-control",id:"inputNome",name:"nome",placeholder:"Informe o Nome",maxlength:"100",value:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.city.name=o),required:""},null,512),[[p,t.city.name]])])]),e("div",V,[j,m(e("select",{class:"custom-select",id:"inputCidade",name:"cidade",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>t.city.id_state=o)},[D,(i(!0),a(f,null,y(t.states,(o,c)=>(i(),a("option",{key:c,id:c,value:o.id},l(o.name),9,F))),128))],512),[[h,t.city.id_state]])])]),H]),e("div",M,[t.city.id?(i(),a("button",{key:0,type:"submit",class:"btn btn-primary",onClick:s[2]||(s[2]=o=>d.updateCity())},"Atualizar")):(i(),a("button",{key:1,type:"submit",class:"btn btn-primary",onClick:s[3]||(s[3]=o=>d.saveCity())},"Salvar")),e("button",{class:"btn btn-danger",onClick:s[4]||(s[4]=o=>d.back())},"Voltar")])])])])}const K=_(v,[["render",U]]);export{K as default};
