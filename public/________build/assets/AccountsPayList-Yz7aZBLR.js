import{a as d}from"./axios-B4uVmeYG.js";import{S as r}from"./sweetalert2-z6gKu1nJ.js";import g from"./Search-Cs6vzgM8.js";import{A as b,f as C}from"./utils-B-CemkDS.js";import{r as _,o as a,c as n,a as t,b as p,F as v,h as k,t as i,w as u,u as h,e as m}from"./app-GEmCaaeo.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={data:function(){return{accounts:{id:"",description:"",original_value:"",penalty_value:"",final_value:"",type:"",status:"",payment_method:"",category:"",observations:"",discharge_date:"",expect_date:"",id_supplier:"",id_check:""},category_account_pay:b,formatDate:C}},components:{Search:g},methods:{getAccounts(o){return d.get("/accounts-pay",{params:o}).then(s=>{this.accounts=s.data.accounts.data}).catch(s=>{r.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:2500})})},delete(o){d.delete("/accounts-pay/"+o).then(s=>{r.fire({position:"top-end",icon:"success",title:s.data.message,showConfirmButton:!1,timer:2500}),this.$router.go()}).catch(s=>{r.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:2500})})},restore(o){d.post("/accounts-pay/"+o+"/restore").then(s=>{r.fire({position:"top-end",icon:"success",title:s.data.message,showConfirmButton:!1,timer:2500}),this.$router.go()}).catch(s=>{r.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:2500})})},deleteAccount(o){r.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, a conta será removida.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&this.delete(o)})},restoreAccount(o){r.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, a conta será restaurada.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&this.restore(o)})},validateCategory(o){return!0}}},w={class:"container-fluid"},A={class:"col-md-12"},S=t("h2",null," Contas à Pagar",-1),V={class:"card card-primary"},$=t("div",{class:"card-header"},[t("h3",{class:"card-title"}," Contas ")],-1),D={class:"card-body table-responsive p-0",style:{}},F={key:0,class:"scrollable text-left"},N={class:"table table-head-fixed text-nowrap text-left table-striped"},T=t("thead",null,[t("tr",null,[t("th",{class:"md='auto'"},"ID"),t("th",{class:"md='auto'"},"Fornecedor"),t("th",{class:"md='auto'"},"Descrição"),t("th",{class:"md='auto'"},"Valor"),t("th",{class:"md='auto'"},"Categoria"),t("th",{class:"md='auto'"},"Vencimento"),t("th",{class:"md='auto'"})])],-1),E={key:0},I={key:1},R={type:"button",class:"btn btn-outline-info",style:{"margin-top":"-0.5em"}},z={key:0},L=t("i",{class:"fas fa-dollar-sign",style:{padding:"0.3em"}},null,-1),M=[L],P={key:1},j=t("i",{class:"fas fa-solid fa-eye"},null,-1),q=[j],G=t("button",{type:"button",class:"btn btn-outline-info",style:{"margin-top":"-0.5em","margin-left":"0.5em"}},[t("i",{class:"nav-icon fas fa-home"})],-1),H=t("button",{type:"button",class:"btn btn-outline-primary",title:"Editar",style:{"margin-top":"-0.5em","margin-left":"0.5em"}},[t("i",{class:"fas fa-pencil-alt"})],-1),J=["onClick"],K=t("i",{class:"fas fa-plus"},null,-1),O=[K],Q=["onClick"],U=t("i",{class:"fas fa-trash"},null,-1),W=[U],X={key:1},Y=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhuma conta encontrado.")])])])],-1),Z=[Y];function tt(o,s,et,ot,st,l){const f=_("search"),c=_("router-link");return a(),n("div",w,[t("div",A,[S,p(f,{route:"account-pay",onSearch:l.getAccounts},null,8,["onSearch"]),t("div",V,[$,t("div",D,[o.accounts&&o.accounts.length>0?(a(),n("div",F,[t("table",N,[T,t("tbody",null,[(a(!0),n(v,null,k(o.accounts,e=>(a(),n("tr",{key:e.id},[t("td",null,[t("b",null,i(e.id),1)]),e.id_property?(a(),n("td",E,i(e.supplier.name??""),1)):(a(),n("td",I,i(e.supplier.name??""),1)),t("td",null,i(e.description),1),t("td",null,i(e.final_value?"R$ "+e.final_value:"R$ "+e.original_value),1),t("td",null,i(o.formatDate(e.expect_date)),1),t("td",null,i(o.category_account_pay[e.category]),1),t("td",null,[p(c,{to:"/account-pay/"+e.id+"/pay-off",class:"small-box-footer"},{default:u(()=>[t("button",R,[e.id_casher?(a(),n("div",P,q)):(a(),n("div",z,M))])]),_:2},1032,["to"]),e.id_property?(a(),h(c,{key:0,to:"/property/"+e.id_property+"/edit",class:"small-box-footer"},{default:u(()=>[G]),_:2},1032,["to"])):m("",!0),e.status!=2?(a(),h(c,{key:1,to:"/account-pay/"+e.id+"/edit",class:"small-box-footer"},{default:u(()=>[H]),_:2},1032,["to"])):m("",!0),e.status!=2&&e.deleted_at?(a(),n("button",{key:2,type:"button",class:"btn btn-outline-success",onClick:y=>l.restoreAccount(e.id),"data-toggle":"modal",style:{"margin-top":"-0.5em","margin-left":"0.5em"},title:"Restaurar Fornecedor"},O,8,J)):e.status!=2?(a(),n("button",{key:3,type:"button",class:"btn btn-outline-danger",onClick:y=>l.deleteAccount(e.id),"data-toggle":"modal",style:{"margin-top":"-0.5em","margin-left":"0.5em"},title:"Excluir Fornecedor"},W,8,Q)):m("",!0)])]))),128))])])])):(a(),n("div",X,Z))])])])])}const dt=x(B,[["render",tt]]);export{dt as default};
