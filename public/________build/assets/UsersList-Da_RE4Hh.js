import{a as c}from"./axios-B4uVmeYG.js";import{S as l}from"./sweetalert2-z6gKu1nJ.js";import p from"./Search-Cs6vzgM8.js";import{P as f,b,z as y}from"./utils-B-CemkDS.js";import{r as d,o as a,c as n,a as t,b as u,F as g,h as k,t as r,w as x}from"./app-GEmCaaeo.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={data:function(){return{users:{},filter:{status:"",search:""},my_id:"",users_type:f,phoneMask:b,getMonthDates:y}},computed:{totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}},components:{Search:p},methods:{getUsers(){c.get("/users",{params:this.filter}).then(e=>{this.users=e.data.users.data,this.my_id=e.data.my_id}).catch(e=>{console.error("Houve um problema com a requisição:",e)})},delete(e){c.delete("/users/"+e).then(s=>{l.fire({text:s.data.message,icon:"success"})}).catch(s=>{console.error("Houve um problema com a requisição:",s)})},restore(e){c.post("/user/restore/"+e).then(s=>{l.fire({text:s.data.message,icon:"success"})}).catch(s=>{console.error("Houve um problema com a requisição:",s)})},updatePage(e){this.currentPage=e,this.getUsers()},deleteUser(e){l.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, usuário será removido.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&this.delete(e)})},restoreUser(e){l.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, o usuário será restaurado.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&this.restore(e)})}},created(){this.getUsers()}},B={class:"container-fluid"},U={class:"col-md-12"},S=t("h2",null,"Usuários",-1),w={class:"card card-primary"},M=t("div",{class:"card-header"},[t("h3",{class:"card-title"},"Usuários do Sistema")],-1),P={class:"card-body table-responsive p-0",style:{height:"100%"}},T={key:0,class:"scrollable text-left"},N={class:"table table-head-fixed text-nowrap text-left table-striped"},D=t("thead",null,[t("tr",null,[t("th",{class:"md='auto'"},"ID"),t("th",{class:"md='auto'"},"Nome"),t("th",{class:"md='auto'"},"E-mail"),t("th",{class:"md='auto'"},"Tipo"),t("th",{class:"md='auto'"},"Telefone"),t("th",{class:"md='auto'"}),t("th",{class:"md='auto'"})])],-1),E=t("button",{type:"button",class:"btn btn-outline-primary",title:"Editar",style:{"margin-top":"-0.5em"}},[t("i",{class:"fas fa-pencil-alt"})],-1),I={key:0},V=["onClick"],q=t("i",{class:"fas fa-plus"},null,-1),z=[q],A=["onClick"],H=t("i",{class:"fas fa-trash"},null,-1),$=[H],F={key:1},L=t("button",{type:"button",class:"btn btn-outline-secondary",style:{"margin-top":"-0.5em"},title:"Nenhuma Ação",disabled:""},[t("i",{class:"fas fa-hand-paper"})],-1),R=[L],j={key:1},G=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhum cliente encontrado.")])])])],-1),J=[G];function K(e,s,O,Q,W,i){const h=d("search"),m=d("router-link");return a(),n("div",B,[t("div",U,[S,u(h,{route:"user",onSearch:i.getUsers},null,8,["onSearch"]),t("div",w,[M,t("div",P,[e.users.length>=1?(a(),n("div",T,[t("table",N,[D,t("tbody",null,[(a(!0),n(g,null,k(e.users,o=>(a(),n("tr",{key:o.id},[t("td",null,[t("b",null,r(o.id),1)]),t("td",null,r(o.name),1),t("td",null,r(o.email),1),t("td",null,r(e.users_type[o.type]),1),t("td",null,r(e.phoneMask(o.cellphone)),1),t("td",null,[u(m,{to:"/user/edit/"+o.id,class:"small-box-footer"},{default:x(()=>[E]),_:2},1032,["to"])]),t("td",null,[e.my_id!=o.id?(a(),n("div",I,[o.deleted_at?(a(),n("button",{key:0,type:"button",class:"btn btn-outline-success",onClick:_=>i.restoreUser(o.id),"data-toggle":"modal",style:{"margin-top":"-0.5em"},title:"Restaurar Usuário"},z,8,V)):(a(),n("button",{key:1,type:"button",class:"btn btn-outline-danger",onClick:_=>i.deleteUser(o.id),"data-toggle":"modal",style:{"margin-top":"-0.5em"},title:"Excluir Usuário"},$,8,A))])):(a(),n("div",F,R))])]))),128))])])])):(a(),n("div",j,J))])])])])}const ot=v(C,[["render",K]]);export{ot as default};
