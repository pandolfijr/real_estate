import{S as _}from"./sweetalert2-z6gKu1nJ.js";import{a as u}from"./axios-B4uVmeYG.js";import{M as N,s as E,p as D,N as U,c as w,i as F}from"./utils-B-CemkDS.js";import{r as y,i as S,o as l,c as a,a as o,t as c,j as i,v as n,k as C,F as f,h as b,b as v,m as P,w as k,e as B,d as r}from"./app-GEmCaaeo.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={data:function(){return{data:{},locator:{id:"",income:"",income_proof:"",address_proof:"",rg:"",cpf:"",id_people:"",people:{name:"",surname:"",cpf:"",rg:"",cellphone:"",email:"",cep:"",address:"",complement:"",number:"",marital_status:"",birth_date:"",district:"",id_city:"",profession:""},people_exists:!1},config:{decimal:",",thousands:".",prefix:"R$ ",precision:2,masked:!1},documents:[],send_cpf:!1,send_rg:!1,send_address:!1,send_income:!1,cities:{},marital_status:N,status_properties:E,properties_type:D,handleFileUpload:U,onError:w,isNumber:F}},methods:{getLocator(){u.get("/locators/"+this.$route.params.id).then(e=>{e.data.locator&&(this.locator=e.data.locator)}).catch(e=>{console.error("Houve um problema com a requisição:",e)})},getPeopleByCpf(e){let t=e.target.value;if(t=t!=null?t.replace(/[.\-\s()]/g,""):null,!t)return!1;u.get("/people/"+this.$route.params.id+"/get-by-cpf",{params:{cpf:t}}).then(p=>{p.data.people&&(this.locator.id_people=p.data.people.id,this.locator.people=p.data.people,this.locator.people_exists=!0)}).catch(p=>{console.error("Houve um problema com a requisição:",p)})},saveLocator(){this.handlesSpecialCharacters(),this.documents.length>0&&(this.locator.documents=this.documents),u.post("/locators",this.locator).then(e=>{_.fire({position:"top-end",icon:"success",title:e.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(e=>{e&&e.response.data.errors?e=this.onError(e):e=e.response.data,_.fire({position:"top-end",icon:"error",title:e.message,showConfirmButton:!1,timer:2500})})},updateLocator(){this.handlesSpecialCharacters(),this.documents.length>0&&(this.locator.documents=this.documents),u.put("/locators/"+this.$route.params.id,this.locator).then(e=>{_.fire({position:"top-end",icon:"success",title:e.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(e=>{_.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:2500})})},getCities(){u.get("/cities",{}).then(e=>{this.cities=e.data.cities}).catch(e=>{console.error("Houve um problema com a requisição:",e)})},back(){this.$router.go(-1)},handlesSpecialCharacters(){this.locator.people.cpf=this.locator.people.cpf!=null?this.locator.people.cpf.replace(/[.\-\s()]/g,""):"",this.locator.people.rg=this.locator.people.rg!=null?this.locator.people.rg.replace(/[.\-\s()]/g,""):"",this.locator.people.cellphone=this.locator.people.cellphone!=null?this.locator.people.cellphone.replace(/[.\-\s()]/g,""):"",this.locator.people.cep=this.locator.people.cep!=null?this.locator.people.cep.replace(/[.\-\s()]/g,""):""},clearFilter(){this.$router.go()},validateDocument(e){return this.locator.people.documents?this.locator.people.documents.some(p=>p.type_document===e):!1}},created(){this.getCities(),this.$route.params.id&&this.getLocator()}},R={class:"container-fluid"},L={class:"col-md-12"},M=o("h2",null,"Proprietário",-1),A={class:"card card-primary"},T={class:"card-header"},q={class:"card-title"},G={class:"card-body"},H={class:"row"},j={class:"col-sm-3"},z={class:"form-group"},K=o("label",{for:"inputName"},[r("Nome"),o("b",null,"*")],-1),J=["disabled"],O={class:"col-sm-3"},Q={class:"form-group"},W=o("label",{for:"inputSurname"},[r("Sobrenome"),o("b",null,"*")],-1),X=["disabled"],Y={class:"col-sm-3"},Z={class:"form-group"},x=o("label",{for:"inputBirthDate"},"Dt. Nascimento",-1),oo=["disabled"],eo={class:"col-sm-3"},to={class:"form-group"},so=o("label",{for:"inputMaritalStatus"},"Estado Civil",-1),lo=["disabled"],ao=o("option",{value:""},"Selecione Estado Civil",-1),io=["id","value"],no={class:"row"},ro={class:"col-sm-3"},po={class:"form-group"},co=o("label",{for:"inputCpf"},[r("CPF"),o("b",null,"*")],-1),mo=["disabled"],uo={class:"col-sm-3"},_o=o("label",{class:"form-label",for:"customFile"},"Comprovante de CPF",-1),ho=o("br",null,null,-1),fo={key:0},bo=o("label",null,"Comprovante Enviado",-1),vo=o("i",{class:"fas fa-upload"},null,-1),go=[vo],yo=["disabled"],Co={class:"col-sm-3"},ko={class:"form-group"},Vo=o("label",{for:"inputRg"},[r("RG"),o("b",null,"*")],-1),No=["disabled"],Eo={class:"col-sm-3"},Do=o("label",{class:"form-label",for:"customFile"},"Comprovante de RG",-1),Uo=o("br",null,null,-1),wo={key:0},Fo=o("label",null,"Comprovante Enviado",-1),So=o("i",{class:"fas fa-upload"},null,-1),Po=[So],Bo=["disabled"],Io={class:"row"},$o={class:"col-sm-3"},Ro={class:"form-group"},Lo=o("label",{for:"inputCellphone"},[r("Celular"),o("b",null,"*")],-1),Mo=["disabled"],Ao={class:"col-sm-3"},To={class:"form-group"},qo=o("label",{for:"inputEmail"},[r("Email"),o("b",null,"*")],-1),Go=["disabled"],Ho={class:"col-sm-4"},jo={class:"form-group"},zo=o("label",{for:"inputAddress"},[r("Endereço"),o("b",null,"*")],-1),Ko=["disabled"],Jo={class:"col-sm-2"},Oo={class:"form-group"},Qo=o("label",{for:"inputNumber"},"Número",-1),Wo=["disabled"],Xo={class:"row"},Yo={class:"col-sm-2"},Zo={class:"form-group"},xo=o("label",{for:"inputDistrict"},"Bairro",-1),oe=["disabled"],ee={class:"col-sm-3"},te={class:"form-group"},se=o("label",{for:"inputComplement"},"Complemento",-1),le=["disabled"],ae={class:"col-sm-2"},ie={class:"form-group"},ne=o("label",{for:"inputIdCity"},[r("Cidade"),o("b",null,"*")],-1),de=["disabled"],re=o("option",{value:""},"Selecione a Cidade",-1),pe=["id","value"],ce={class:"col-sm-2"},me={class:"form-group"},ue=o("label",{for:"inputCep"},"CEP",-1),_e=["disabled"],he={class:"col-sm-3"},fe=o("label",{class:"form-label",for:"customFile"},"Comprovante de Residência ",-1),be=o("br",null,null,-1),ve={key:0},ge=o("label",null,"Comprovante Enviado",-1),ye=o("i",{class:"fas fa-upload"},null,-1),Ce=[ye],ke=["disabled"],Ve=o("div",{class:"row"},[o("div",{class:"col-sm-12"},[o("div",{class:"card-footer"})])],-1),Ne={class:"row"},Ee={class:"col-sm-3"},De={class:"form-group"},Ue=o("label",{for:"inputProfession"},"Profissão",-1),we={class:"col-sm-3"},Fe={class:"form-group"},Se=o("label",{for:"inputIncome"},[r("Renda Mensal"),o("b",null,"*")],-1),Pe={class:"input-group"},Be=o("div",{class:"input-group-prepend"},[o("span",{class:"input-group-text"},[o("i",{class:"fas fa-dollar-sign"})])],-1),Ie={class:"col-sm-6"},$e=o("label",{class:"form-label",for:"customFile"},"Comprovante de Renda",-1),Re=o("br",null,null,-1),Le={key:0},Me=o("label",null,"Comprovante Enviado",-1),Ae=o("i",{class:"fas fa-upload"},null,-1),Te=[Ae],qe=o("div",{class:"row"},[o("div",{class:"row"},[o("div",{class:"col-sm-12"},[o("div",{class:"card-footer"})])])],-1),Ge={class:"modal-footer justify-content-center"},He={key:0,class:"card card-primary"},je={class:"card-header"},ze={class:"card-title"},Ke={class:"card-body"},Je={class:"scrollable text-left"},Oe={class:"table table-head-fixed text-nowrap text-left"},Qe=o("thead",null,[o("tr",null,[o("th",{class:"md='auto'"},"Referência"),o("th",{class:"md='auto'"},"Nome"),o("th",{class:"md='auto'"},"Tipo"),o("th",{class:"md='auto'"},"Status"),o("th",{class:"md='auto'"},"Ver Imóvel"),o("th",{class:"md='auto'"},"Ver Transação")])],-1),We=o("button",{type:"button",class:"btn btn-outline-primary",style:{"margin-top":"-0.5em"}},[o("i",{class:"fas fa-solid fa-eye"})],-1),Xe={key:0},Ye=o("button",{type:"button",class:"btn btn-outline-primary",style:{"margin-top":"-0.5em"}},[o("i",{class:"fas fa-solid fa-eye"})],-1),Ze={key:1},xe=o("button",{type:"button",class:"btn btn-outline-secondary",style:{"margin-top":"-0.5em"},title:"Nenhuma Ação",disabled:""},[o("i",{class:"fas fa-hand-paper"})],-1),ot=[xe];function et(e,t,p,tt,st,d){const V=y("money3"),g=y("router-link"),h=S("mask");return l(),a("div",R,[o("div",L,[M,o("div",A,[o("div",T,[o("h3",q,c(e.locator&&e.locator.id?"Editar Proprietário":"Cadastrar Proprietário"),1)]),o("div",G,[o("div",H,[o("div",j,[o("div",z,[K,i(o("input",{type:"text",class:"form-control",id:"inputName",name:"name",placeholder:"Informe o Nome",maxlength:"20",value:"",disabled:e.locator.people_exists,"onUpdate:modelValue":t[0]||(t[0]=s=>e.locator.people.name=s)},null,8,J),[[n,e.locator.people.name]])])]),o("div",O,[o("div",Q,[W,i(o("input",{type:"text",class:"form-control",id:"inputSurname",placeholder:"Informe o Sobrenome",name:"surname",maxlength:"70",disabled:e.locator.people_exists,"onUpdate:modelValue":t[1]||(t[1]=s=>e.locator.people.surname=s)},null,8,X),[[n,e.locator.people.surname]])])]),o("div",Y,[o("div",Z,[x,i(o("input",{type:"date",class:"form-control",id:"inputBirthDate",placeholder:"Informe a Data de Nascimento",name:"birth_date",disabled:e.locator.people_exists,"onUpdate:modelValue":t[2]||(t[2]=s=>e.locator.people.birth_date=s)},null,8,oo),[[n,e.locator.people.birth_date]])])]),o("div",eo,[o("div",to,[so,i(o("select",{class:"custom-select",id:"inputMaritalStatus",name:"marital_status",disabled:e.locator.people_exists,"onUpdate:modelValue":t[3]||(t[3]=s=>e.locator.people.marital_status=s)},[ao,(l(!0),a(f,null,b(e.marital_status,(s,m)=>(l(),a("option",{key:m,id:m,value:m},c(s),9,io))),128))],8,lo),[[C,e.locator.people.marital_status]])])])]),o("div",no,[o("div",ro,[o("div",po,[co,i(o("input",{type:"text",class:"form-control cpf",id:"inputCpf",name:"cpf","onUpdate:modelValue":t[4]||(t[4]=s=>e.locator.people.cpf=s),placeholder:"Informe o CPF",disabled:e.locator.people_exists,onBlur:t[5]||(t[5]=s=>d.getPeopleByCpf(s)),masked:"false"},null,40,mo),[[n,e.locator.people.cpf],[h,"###.###.###-##"]])])]),o("div",uo,[_o,ho,d.validateDocument("cpf")&&!e.send_cpf?(l(),a("div",fo,[bo,o("button",{type:"button",class:"btn btn-outline-primary",title:"Enviar Novo Documento",style:{"margin-top":"-0.5em","margin-left":"1em"},onClick:t[6]||(t[6]=s=>e.send_cpf=!0)},go)])):(l(),a("input",{key:1,class:"form-label",type:"file",id:"cpf_proof",name:"cpf_proof",disabled:e.locator.people_exists,onChange:t[7]||(t[7]=s=>e.handleFileUpload(s,"cpf"))},null,40,yo))]),o("div",Co,[o("div",ko,[Vo,i(o("input",{type:"text",class:"form-control cpf",id:"inputRg",name:"rg",maxlength:"12",disabled:e.locator.people_exists,"onUpdate:modelValue":t[8]||(t[8]=s=>e.locator.people.rg=s),placeholder:"Informe o RG"},null,8,No),[[n,e.locator.people.rg]])])]),o("div",Eo,[Do,Uo,d.validateDocument("rg")&&!e.send_rg?(l(),a("div",wo,[Fo,o("button",{type:"button",class:"btn btn-outline-primary",title:"Enviar Novo Documento",style:{"margin-top":"-0.5em","margin-left":"1em"},onClick:t[9]||(t[9]=s=>e.send_rg=!0)},Po)])):(l(),a("input",{key:1,class:"form-label",type:"file",id:"rg_proof",name:"rg_proof",disabled:e.locator.people_exists,onChange:t[10]||(t[10]=s=>e.handleFileUpload(s,"rg"))},null,40,Bo))])]),o("div",Io,[o("div",$o,[o("div",Ro,[Lo,i(o("input",{type:"text",class:"form-control",id:"inputCellphone",name:"cellphone","onUpdate:modelValue":t[11]||(t[11]=s=>e.locator.people.cellphone=s),placeholder:"Informe o Celular",disabled:e.locator.people_exists,masked:"false"},null,8,Mo),[[n,e.locator.people.cellphone],[h,["(##) ####-####","(##) #####-####"]]])])]),o("div",Ao,[o("div",To,[qo,i(o("input",{type:"text",class:"form-control",id:"inputEmail",maxlength:"40","onUpdate:modelValue":t[12]||(t[12]=s=>e.locator.people.email=s),name:"email",placeholder:"Informe o Email",disabled:e.locator.people_exists},null,8,Go),[[n,e.locator.people.email]])])]),o("div",Ho,[o("div",jo,[zo,i(o("input",{type:"text",class:"form-control",id:"inputAddress","onUpdate:modelValue":t[13]||(t[13]=s=>e.locator.people.address=s),placeholder:"Digite o Endereço",name:"address",disabled:e.locator.people_exists,maxlength:"255"},null,8,Ko),[[n,e.locator.people.address]])])]),o("div",Jo,[o("div",Oo,[Qo,i(o("input",{type:"number",class:"form-control",id:"inputNumber","onUpdate:modelValue":t[14]||(t[14]=s=>e.locator.people.number=s),onKeypress:t[15]||(t[15]=s=>e.isNumber(s)),placeholder:"No.",disabled:e.locator.people_exists,name:"number",maxlength:"11"},null,40,Wo),[[n,e.locator.people.number]])])])]),o("div",Xo,[o("div",Yo,[o("div",Zo,[xo,i(o("input",{type:"text",class:"form-control",id:"inputDistrict","onUpdate:modelValue":t[16]||(t[16]=s=>e.locator.people.district=s),placeholder:"Digite o Bairro",maxlength:"50",disabled:e.locator.people_exists,name:"district"},null,8,oe),[[n,e.locator.people.district]])])]),o("div",ee,[o("div",te,[se,i(o("input",{type:"text",class:"form-control",id:"inputComplement","onUpdate:modelValue":t[17]||(t[17]=s=>e.locator.people.complement=s),placeholder:"Digite o Complemento",disabled:e.locator.people_exists,name:"complement",maxlength:"100"},null,8,le),[[n,e.locator.people.complement]])])]),o("div",ae,[o("div",ie,[ne,i(o("select",{class:"custom-select",id:"inputIdCity",name:"id_city",disabled:e.locator.people_exists,"onUpdate:modelValue":t[18]||(t[18]=s=>e.locator.people.id_city=s)},[re,(l(!0),a(f,null,b(e.cities,(s,m)=>(l(),a("option",{key:m,id:m,value:s.id},c(s.name),9,pe))),128))],8,de),[[C,e.locator.people.id_city]])])]),o("div",ce,[o("div",me,[ue,i(o("input",{type:"text",class:"form-control cep",id:"cep",placeholder:"Digite o CEP",disabled:e.locator.people_exists,masked:"false",name:"cep","onUpdate:modelValue":t[19]||(t[19]=s=>e.locator.people.cep=s)},null,8,_e),[[h,"#####-###"],[n,e.locator.people.cep]])])]),o("div",he,[fe,be,d.validateDocument("address")&&!e.send_address?(l(),a("div",ve,[ge,o("button",{type:"button",class:"btn btn-outline-primary",title:"Enviar Novo Documento",style:{"margin-top":"-0.5em","margin-left":"1em"},onClick:t[20]||(t[20]=s=>e.send_address=!0)},Ce)])):(l(),a("input",{key:1,class:"form-label",type:"file",id:"address_proof",name:"address_proof",disabled:e.locator.people_exists,onChange:t[21]||(t[21]=s=>e.handleFileUpload(s,"address"))},null,40,ke))])]),Ve,o("div",Ne,[o("div",Ee,[o("div",De,[Ue,i(o("input",{type:"text",class:"form-control",id:"inputProfession",maxlength:"40","onUpdate:modelValue":t[22]||(t[22]=s=>e.locator.people.profession=s),name:"profession",placeholder:"Informe a Profissão"},null,512),[[n,e.locator.people.profession]])])]),o("div",we,[o("div",Fe,[Se,o("div",Pe,[Be,v(V,P({class:"form-control",modelValue:e.locator.income,"onUpdate:modelValue":t[23]||(t[23]=s=>e.locator.income=s)},e.config,{id:"inputIncome",placeholder:"Valor da Renda",name:"sale_value"}),null,16,["modelValue"])])])]),o("div",Ie,[$e,Re,d.validateDocument("income")&&!e.send_income?(l(),a("div",Le,[Me,o("button",{type:"button",class:"btn btn-outline-primary",title:"Enviar Novo Documento",style:{"margin-top":"-0.5em","margin-left":"1em"},onClick:t[24]||(t[24]=s=>e.send_income=!0)},Te)])):(l(),a("input",{key:1,class:"form-label",type:"file",id:"income_proof",name:"income_proof",onChange:t[25]||(t[25]=s=>e.handleFileUpload(s,"income"))},null,32))])]),qe,o("div",Ge,[e.locator.id?(l(),a("button",{key:0,type:"submit",class:"btn btn-primary",onClick:t[26]||(t[26]=s=>d.updateLocator())}," Atualizar ")):(l(),a("button",{key:1,type:"submit",class:"btn btn-primary",onClick:t[27]||(t[27]=s=>d.saveLocator())}," Salvar ")),o("button",{class:"btn btn-danger",onClick:t[28]||(t[28]=s=>d.back())},"Voltar"),o("button",{onClick:t[29]||(t[29]=s=>d.clearFilter()),class:"btn btn-secondary"},"Limpar")])])]),e.locator.property&&e.locator.property.length>=1?(l(),a("div",He,[o("div",je,[o("h3",ze,"Propriedades de "+c(e.locator.people.name),1)]),o("div",Ke,[o("div",Je,[o("table",Oe,[Qe,o("tbody",null,[(l(!0),a(f,null,b(e.locator.property,s=>(l(),a("tr",{key:s.id},[o("td",null,[o("b",null,c(s.reference),1)]),o("td",null,c(s.description),1),o("td",null,c(e.properties_type[s.type].description??"Não informado"),1),o("td",null,c(e.status_properties[s.status]),1),o("td",null,[v(g,{to:"/property/"+s.id+"/edit",class:"small-box-footer"},{default:k(()=>[We]),_:2},1032,["to"])]),s.id_transaction?(l(),a("td",Xe,[v(g,{to:"/transaction/"+s.id_transaction+"/edit",class:"small-box-footer"},{default:k(()=>[Ye]),_:2},1032,["to"])])):(l(),a("td",Ze,ot))]))),128))])])])])])):B("",!0)])])}const rt=I($,[["render",et]]);export{rt as default};
