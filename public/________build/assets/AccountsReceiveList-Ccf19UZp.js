import{a as r}from"./axios-B4uVmeYG.js";import{S as c}from"./sweetalert2-z6gKu1nJ.js";import y from"./Search-Cs6vzgM8.js";import{C as b,D as g,f as v}from"./utils-B-CemkDS.js";import{r as _,o as a,c as n,a as t,b as d,F as C,h as x,t as i,w as h,e as m}from"./app-GEmCaaeo.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={data:function(){return{accounts:{id:"",description:"",original_value:"",penalty_value:"",final_value:"",type:"",status:"",payment_method:"",category:"",observations:"",discharge_date:"",expect_date:"",id_supplier:"",id_check:""},search:{},status_account:b,category_account_receive:g,formatDate:v}},components:{Search:y},methods:{getAccounts(e){return e.year_received=null,e.month_received=null,r.get("/accounts-receive",{params:e}).then(s=>{this.accounts=s.data.accounts.data}).catch(s=>{c.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:2500})})},delete(e){r.delete("/accounts-receive/"+e).then(s=>{c.fire({position:"top-end",icon:"success",title:s.data.message,showConfirmButton:!1,timer:2500}),this.$router.go()}).catch(s=>{c.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:2500})})},restore(e){r.post("/accounts-receive/"+e+"/restore").then(s=>{c.fire({position:"top-end",icon:"success",title:s.data.message,showConfirmButton:!1,timer:2500}),this.$router.go()}).catch(s=>{c.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:2500})})},deleteAccount(e){c.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, a conta será removida.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&this.delete(e)})},restoreAccount(e){c.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, a conta será restaurada.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&this.restore(e)})}}},w={class:"container-fluid"},S={class:"col-md-12"},A=t("h2",null," Contas à Receber",-1),D={class:"card card-primary"},V=t("div",{class:"card-header"},[t("h3",{class:"card-title"}," Contas ")],-1),$={key:0,class:"card-body table-responsive p-0",style:{}},N={key:0,class:"scrollable text-left"},F={class:"table table-head-fixed text-nowrap text-left table-striped"},I=t("thead",null,[t("tr",null,[t("th",{class:"md='auto'"},"ID"),t("th",{class:"md='auto'"},"Descrição"),t("th",{class:"md='auto'"},"Valor"),t("th",{class:"md='auto'"},"Status"),t("th",{class:"md='auto'"},"Categoria "),t("th",{class:"md='auto'"},"Data Vencimento"),t("th",{class:"md='auto'"}),t("th",{class:"md='auto'"}),t("th",{class:"md='auto'"})])],-1),R={type:"button",class:"btn btn-outline-info",style:{"margin-top":"-0.5em"}},T={key:0},E=t("i",{class:"fas fa-dollar-sign",style:{padding:"0.3em"}},null,-1),z=[E],L={key:1},M=t("i",{class:"fas fa-solid fa-eye"},null,-1),q=[M],P={key:0},j={style:{"text-align":"center"}},G=["onClick"],H=t("i",{class:"fas fa-plus"},null,-1),J=[H],K=["onClick"],O=t("i",{class:"fas fa-trash"},null,-1),Q=[O],U={key:0},W=t("button",{type:"button",class:"btn btn-outline-primary",title:"Editar",style:{"margin-top":"-0.5em"}},[t("i",{class:"fas fa-pencil-alt"})],-1),X={key:1},Y=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhuma conta encontrado.")])])])],-1),Z=[Y],tt={key:1},et=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Preencha os filtros e faça sua pesquisa.")])])])],-1),ot=[et];function st(e,s,at,nt,ct,l){const f=_("search"),u=_("router-link");return a(),n("div",w,[t("div",S,[A,d(f,{route:"account-receive",onSearch:l.getAccounts},null,8,["onSearch"]),t("div",D,[V,e.accounts&&e.accounts.length>0?(a(),n("div",$,[e.accounts&&e.accounts.length>0?(a(),n("div",N,[t("table",F,[I,t("tbody",null,[(a(!0),n(C,null,x(e.accounts,o=>(a(),n("tr",{key:o.id},[t("td",null,[t("b",null,i(o.id),1)]),t("td",null,i(o.description),1),t("td",null,i(o.final_value?"R$ "+o.final_value:"Não Informado"),1),t("td",null,i(e.status_account[o.status]),1),t("td",null,i(e.category_account_receive[o.category]),1),t("td",null,i(e.formatDate(o.expect_date)),1),t("td",null,[d(u,{to:"/account-receive/"+o.id+"/pay-off",class:"small-box-footer"},{default:h(()=>[t("button",R,[o.id_casher?(a(),n("div",L,q)):(a(),n("div",T,z))])]),_:2},1032,["to"])]),t("td",null,[o.status!=2?(a(),n("div",P,[t("div",j,[o.deleted_at?(a(),n("button",{key:0,type:"button",class:"btn btn-outline-success",onClick:p=>l.restoreAccount(o.id),"data-toggle":"modal",style:{"margin-top":"-0.5em"},title:"Restaurar Fornecedor"},J,8,G)):(a(),n("button",{key:1,type:"button",class:"btn btn-outline-danger",onClick:p=>l.deleteAccount(o.id),"data-toggle":"modal",style:{"margin-top":"-0.5em"},title:"Excluir Fornecedor"},Q,8,K))])])):m("",!0)]),t("td",null,[o.status!=2&&o.category!=29?(a(),n("div",U,[d(u,{to:"/account-receive/"+o.id+"/edit",class:"small-box-footer"},{default:h(()=>[W]),_:2},1032,["to"])])):m("",!0)])]))),128))])])])):(a(),n("div",X,Z))])):(a(),n("div",tt,ot))])])])}const ht=k(B,[["render",st]]);export{ht as default};
