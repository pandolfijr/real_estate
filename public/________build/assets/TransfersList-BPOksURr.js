import{a as p}from"./axios-B4uVmeYG.js";import{S as i}from"./sweetalert2-z6gKu1nJ.js";import h from"./Search-Cs6vzgM8.js";import{f}from"./utils-B-CemkDS.js";import{r as c,o,c as r,a as t,b as u,F as b,h as y,t as s,w as v}from"./app-GEmCaaeo.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const g={data:function(){return{installments:{current_installment:"",total_installments:"",status:"",due_date:"",date_received:"",description:"",identification_code:"",observations:"",type_installment:"",id_transact:"",id_locator:"",id_property:"",payment_method:"",id_check:"",installment_value:"",insurance_value:"",insurance_number:"",installment_total_value:"",id_renter:"",property:{},locator:{},renter:{}},formatDate:f}},components:{Search:h},methods:{getInstallments(a){return p.get("/installments",{params:{...a,transfer:!0,category:17}}).then(n=>{this.installments=n.data.installments.data}).catch(n=>{i.fire({position:"top-end",icon:"error",title:n.response.data.message,showConfirmButton:!1,timer:2500})})},validateStatus(a){return!a||a&&!a.status_transfer?(i.fire({position:"top-end",icon:"error",title:"Selecione o Status do Repasse",showConfirmButton:!1,timer:2500}),!1):!0},treatValue(a,n){let l=0;return l=n-a.administrative_tax_value,l.toFixed(2)}},beforeMount(){}},k={class:"container-fluid"},S={class:"col-md-12"},D=t("h2",null," Repasses",-1),R={class:"card card-primary"},w=t("div",{class:"card-header"},[t("h3",{class:"card-title"}," Contas ")],-1),V={class:"card-body table-responsive p-0",style:{}},B={key:0,class:"scrollable text-left"},C={class:"table table-head-fixed text-nowrap text-left table-striped"},F=t("thead",null,[t("tr",null,[t("th",{class:"md='auto'"},"ID"),t("th",{class:"md='auto'"},"Referência"),t("th",{class:"md='auto'"},"Locatário"),t("th",{class:"md='auto'"},"Proprietário"),t("th",{class:"md='auto'"},"Data Vencimento"),t("th",{class:"md='auto'"},"Data Recebimento"),t("th",{class:"md='auto'"},"Valor Repasse Estimado"),t("th",{class:"md='auto'"},"Valor Taxa Administrativa")])],-1),N={key:0},$=t("button",{type:"button",class:"btn btn-outline-info",title:"Fazer Repasse",style:{"margin-top":"-0.5em"}},[t("i",{class:"fas fa-dollar-sign",style:{padding:"0.3em"}})],-1),I={key:1},L=t("button",{type:"button",class:"btn btn-outline-secondary",style:{"margin-top":"-0.5em"},title:"Nenhuma Ação",disabled:""},[t("i",{class:"fas fa-hand-paper"})],-1),A=[L],E={key:1},P=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhuma conta encontrado.")])])])],-1),T=[P];function z(a,n,l,M,j,d){const _=c("search"),m=c("router-link");return o(),r("div",k,[t("div",S,[D,u(_,{route:"transfer",onSearch:d.getInstallments},null,8,["onSearch"]),t("div",R,[w,t("div",V,[a.installments&&a.installments.length>0?(o(),r("div",B,[t("table",C,[F,t("tbody",null,[(o(!0),r(b,null,y(a.installments,e=>(o(),r("tr",{key:e.id},[t("td",null,[t("b",null,s(e.id),1)]),t("td",null,[t("b",null,s(e.property.reference),1)]),t("td",null,s(e.renter.people.name+" "+e.renter.people.surname),1),t("td",null,s(e.locator.people.name+" "+e.locator.people.surname),1),t("td",null,s(e.due_date?a.formatDate(e.due_date):"-"),1),t("td",null,s(e.date_received?a.formatDate(e.date_received):"Pendente"),1),t("td",null,s("R$ "+d.treatValue(e.property,e.installment_total_value)),1),t("td",null,s("R$ "+e.property.administrative_tax_value),1),!e.status_transfer&&!e.id_casher_transfer?(o(),r("td",N,[u(m,{to:"/transfer/"+e.id+"/pay-off",class:"small-box-footer"},{default:v(()=>[$]),_:2},1032,["to"])])):(o(),r("td",I,A))]))),128))])])])):(o(),r("div",E,T))])])])])}const Q=x(g,[["render",z]]);export{Q as default};
