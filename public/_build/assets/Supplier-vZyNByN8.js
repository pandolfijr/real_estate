import{q as v,u as g,c as y}from"./utils-B-CemkDS.js";import{S as u}from"./sweetalert2-z6gKu1nJ.js";import{a as c}from"./axios-B4uVmeYG.js";import{i as b,o as l,c as p,a as e,t as m,j as i,k as h,F as f,h as _,v as r}from"./app-CaSvgjMt.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={data:function(){return{data:{},supplier:{type_person:"",cpf:"",cnpj:"",address:"",telephone:"",cellphone:"",email:"",site:"",responsible:"",category:"",observations:"",id_city:""},cities:{},supplier_category:v,type_person:g,onError:y}},methods:{getSupplier(){c.get("/suppliers/"+this.$route.params.id).then(s=>{this.supplier=s.data.supplier}).catch(s=>{console.error("Houve um problema com a requisição:",s)})},saveSupplier(){this.handlesSpecialCharacters(),c.post("/suppliers",this.supplier).then(s=>{u.fire({position:"top-end",icon:"success",title:s.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(s=>{s=this.onError(s),u.fire({position:"top-end",icon:"error",title:s.message,showConfirmButton:!1,timer:2500})})},updateSupplier(){this.handlesSpecialCharacters(),c.put("/suppliers/"+this.$route.params.id,this.supplier).then(s=>{u.fire({position:"top-end",icon:"success",title:s.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(s=>{u.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:2500})})},getCities(){c.get("/cities",{}).then(s=>{this.cities=s.data.cities}).catch(s=>{console.error("Houve um problema com a requisição:",s)})},back(){this.$router.go(-1)},handlesSpecialCharacters(){this.supplier.cpf=this.supplier.cpf!=null?this.supplier.cpf.replace(/[.\-\s()/]/g,""):"",this.supplier.cnpj=this.supplier.cnpj!=null?this.supplier.cnpj.replace(/[.\-\s()/]/g,""):"",this.supplier.cellphone=this.supplier.cellphone!=null?this.supplier.cellphone.replace(/[.\-\s()/]/g,""):"",this.supplier.telephone=this.supplier.telephone!=null?this.supplier.telephone.replace(/[.\-\s()/]/g,""):"",this.supplier.cep=this.supplier.cep!=null?this.supplier.cep.replace(/[.\-\s()/]/g,""):""},treatTypePerson(){this.type_person==1?this.supplier.cpf="":this.type_person==2?this.supplier.cnpj="":(this.supplier.cnpj="",this.supplier.cpf="")}},created(){this.getCities(),this.$route.params.id&&this.getSupplier()}},k={class:"container-fluid"},V={class:"col-md-12"},E=e("h2",null,"Fornecedores",-1),j={class:"card card-primary"},U={class:"card-header"},w={class:"card-title"},D={class:"card-body"},T={class:"row"},$={class:"col-sm-3"},q={class:"form-group"},F=e("label",{for:"inputTypePerson"},"Tipo de Fornecedor",-1),N=e("option",{value:""},"Selecione o Status",-1),P=["value"],B={class:"col-sm-5"},I={class:"form-group"},O=e("label",{for:"inputName"},"Nome da Empresa",-1),R={class:"col-sm-4"},A={key:0,class:"form-group"},H=e("label",{for:"inputCpf"},"CPF",-1),J=["disabled"],M={key:1,class:"form-group"},z=e("label",{for:"inputCnpj"},"CNPJ",-1),L=["disabled"],G={class:"row"},K={class:"col-sm-3"},Q={class:"form-group"},W=e("label",{for:"inputTelephone"},"Telefone",-1),X={class:"col-sm-3"},Y={class:"form-group"},Z=e("label",{for:"inputCellphone"},"Celular",-1),x={class:"col-sm-3"},ee={class:"form-group"},se=e("label",{for:"inputResponsible"},"Responsável",-1),oe={class:"col-sm-3"},te={class:"form-group"},ie=e("label",{for:"inputEmail"},"Email",-1),le={class:"row"},pe={class:"col-sm-3"},re={class:"form-group"},ne=e("label",{for:"inputCategory"},"Categoria",-1),ae=e("option",{value:""},"Selecione a categoria",-1),de=["value"],ue={class:"col-sm-3"},ce={class:"form-group"},me=e("label",{for:"inputCidade"},"Cidade",-1),he=e("option",{value:""},"Selecione a Cidade",-1),fe=["id","value"],_e={class:"col-sm-6"},ve={class:"form-group"},ge=e("label",{for:"inputAddress"},"Endereço",-1),ye={class:"row"},be={class:"col-sm-4"},Ce={class:"form-group"},Se=e("label",{for:"inputSite"},"Site",-1),ke={class:"col-sm-8"},Ve={class:"form-group"},Ee=e("label",{for:"inputObservations"},"Observações",-1),je=e("div",{class:"row"},[e("div",{class:"col-sm-12"},[e("div",{class:"card-footer"})])],-1),Ue=e("br",null,null,-1),we=e("br",null,null,-1),De={class:"modal-footer justify-content-center"};function Te(s,t,$e,qe,Fe,a){const d=b("mask");return l(),p("div",k,[e("div",V,[E,e("div",j,[e("div",U,[e("h3",w,m(s.supplier.id?"Editar Fornecedor":"Cadastrar Fornecedor"),1)]),e("div",D,[e("div",T,[e("div",$,[e("div",q,[F,i(e("select",{class:"custom-select",id:"inputTypePerson",name:"type_person",onInput:t[0]||(t[0]=o=>a.treatTypePerson()),required:!0,"onUpdate:modelValue":t[1]||(t[1]=o=>s.supplier.type_person=o)},[N,(l(!0),p(f,null,_(s.type_person,(o,n)=>(l(),p("option",{key:n,value:n},m(o),9,P))),128))],544),[[h,s.supplier.type_person]])])]),e("div",B,[e("div",I,[O,i(e("input",{type:"text",class:"form-control",id:"inputName",maxlength:"100",placeholder:"Digite o Nome da Empresa",name:"name","onUpdate:modelValue":t[2]||(t[2]=o=>s.supplier.name=o)},null,512),[[r,s.supplier.name]])])]),e("div",R,[s.supplier.type_person==2?(l(),p("div",A,[H,i(e("input",{type:"text",class:"form-control",id:"inputCpf",placeholder:"Digite o CPF","onUpdate:modelValue":t[3]||(t[3]=o=>s.supplier.cpf=o),name:"cpf",disabled:!s.supplier.type_person,required:!0},null,8,J),[[r,s.supplier.cpf],[d,"###.###.###-##"]])])):(l(),p("div",M,[z,i(e("input",{type:"text",class:"form-control",id:"inputCnpj",placeholder:"Digite o CNPJ","onUpdate:modelValue":t[4]||(t[4]=o=>s.supplier.cnpj=o),name:"cnpj",disabled:!s.supplier.type_person,required:!0},null,8,L),[[r,s.supplier.cnpj],[d,"##.###.###/####-##"]])]))])]),e("div",G,[e("div",K,[e("div",Q,[W,i(e("input",{type:"text",class:"form-control",id:"inputTelephone",name:"telephone","onUpdate:modelValue":t[5]||(t[5]=o=>s.supplier.telephone=o),placeholder:"Informe o Telefone",masked:"false",required:""},null,512),[[r,s.supplier.telephone],[d,["(##) ####-####"]]])])]),e("div",X,[e("div",Y,[Z,i(e("input",{type:"text",class:"form-control",id:"inputCellphone",name:"cellphone","onUpdate:modelValue":t[6]||(t[6]=o=>s.supplier.cellphone=o),placeholder:"Informe o Celular",masked:"false"},null,512),[[r,s.supplier.cellphone],[d,["(##) ####-####","(##) #####-####"]]])])]),e("div",x,[e("div",ee,[se,i(e("input",{type:"text",class:"form-control",id:"inputResponsible",maxlength:"100",placeholder:"Digite o Nome do Responsável",name:"responsible","onUpdate:modelValue":t[7]||(t[7]=o=>s.supplier.responsible=o)},null,512),[[r,s.supplier.responsible]])])]),e("div",oe,[e("div",te,[ie,i(e("input",{type:"text",class:"form-control",id:"inputEmail",maxlength:"40","onUpdate:modelValue":t[8]||(t[8]=o=>s.supplier.email=o),name:"email",placeholder:"Informe o Email"},null,512),[[r,s.supplier.email]])])])]),e("div",le,[e("div",pe,[e("div",re,[ne,i(e("select",{class:"custom-select",id:"inputCategory",name:"category","onUpdate:modelValue":t[9]||(t[9]=o=>s.supplier.category=o)},[ae,(l(!0),p(f,null,_(s.supplier_category,o=>(l(),p("option",{key:o.id,value:o.id},m(o.description),9,de))),128))],512),[[h,s.supplier.category]])])]),e("div",ue,[e("div",ce,[me,i(e("select",{class:"custom-select",id:"inputCidade",name:"cidade",required:"","onUpdate:modelValue":t[10]||(t[10]=o=>s.supplier.id_city=o)},[he,(l(!0),p(f,null,_(s.cities,(o,n)=>(l(),p("option",{key:n,id:n,value:o.id},m(o.name),9,fe))),128))],512),[[h,s.supplier.id_city]])])]),e("div",_e,[e("div",ve,[ge,i(e("input",{type:"text",class:"form-control",id:"inputAddress",maxlength:"100",placeholder:"Digite o Endereço",name:"address","onUpdate:modelValue":t[11]||(t[11]=o=>s.supplier.address=o)},null,512),[[r,s.supplier.address]])])])]),e("div",ye,[e("div",be,[e("div",Ce,[Se,i(e("input",{type:"text",class:"form-control",id:"inputSite",maxlength:"100",placeholder:"Digite o Endereço",name:"site","onUpdate:modelValue":t[12]||(t[12]=o=>s.supplier.site=o)},null,512),[[r,s.supplier.site]])])]),e("div",ke,[e("div",Ve,[Ee,i(e("input",{type:"text",class:"form-control",id:"inputObservations",maxlength:"100",placeholder:"Digite as Observações",name:"observations","onUpdate:modelValue":t[13]||(t[13]=o=>s.supplier.observations=o)},null,512),[[r,s.supplier.observations]])])])]),je,Ue,we]),e("div",De,[s.supplier.id?(l(),p("button",{key:0,type:"submit",class:"btn btn-primary",onClick:t[14]||(t[14]=o=>a.updateSupplier())},"Atualizar")):(l(),p("button",{key:1,type:"submit",class:"btn btn-primary",onClick:t[15]||(t[15]=o=>a.saveSupplier())},"Salvar")),e("button",{class:"btn btn-danger",onClick:t[16]||(t[16]=o=>a.back())},"Voltar")])])])])}const Re=C(S,[["render",Te]]);export{Re as default};
