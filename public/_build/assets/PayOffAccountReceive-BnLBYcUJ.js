import{F as k,D as V,B as D,g as C,c as B}from"./utils-B-CemkDS.js";import{S as _}from"./sweetalert2-z6gKu1nJ.js";import{a as m}from"./axios-B4uVmeYG.js";import{r as S,o as s,c as n,a as o,t as i,j as c,v as p,b as v,m as u,k as h,F as f,h as g,u as b,e as $}from"./app-CaSvgjMt.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={data:function(){return{data:{},account:{id:"",description:"",original_value:"",penalty_value:"",final_value:"",type:"",status:1,payment_method:"",category:"",observations:"",discharge_date:"",expect_date:"",id_supplier:"",id_check:"",supplier:{name:""},action:2,id_bank_account:""},config:{decimal:",",thousands:".",prefix:"R$ ",precision:2,masked:!1},status_account_receive:k,category_account_receive:V,payment_method:D,getCurrentDate:C,onError:B,bank_accounts:{}}},computed:{},methods:{getAccount(){m.get("/accounts-receive/"+this.$route.params.id).then(t=>{this.account=t.data.account,this.account.discharge_date||(this.account.discharge_date=this.getCurrentDate()),this.account.id_bank_account==null&&(this.account.id_bank_account="")}).catch(t=>{console.error("Houve um problema com a requisição:",t)})},updateAccount(){this.account.action=1,m.put("/accounts-receive/"+this.$route.params.id,this.account).then(t=>{_.fire({position:"top-end",icon:"success",title:t.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(t=>{_.fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:2500})})},back(){this.$router.go(-1)},getBankAccounts(t){m.get("/bank-accounts",{params:t}).then(e=>{this.bank_accounts=e.data.bank_accounts.data}).catch(e=>{_.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:2500})})},treatValues(){const t=this.account.original_value?parseFloat(this.account.original_value):0,e=this.account.penalty_value?parseFloat(this.account.penalty_value):0,y=this.account.discount_value?parseFloat(this.account.discount_value):0;this.account.final_value=t+e-y}},created(){this.getBankAccounts(),this.$route.params.id&&this.getAccount(),this.treatValues()}},w={class:"container-fluid"},F={class:"col-md-12"},I={key:0},O={key:1},P={class:"card card-primary"},R=o("div",{class:"card-header"},[o("h3",{class:"card-title"},"Conta à Receber")],-1),E={class:"card-body"},M={class:"row"},q={key:0,class:"col-sm-4"},L={class:"form-group"},N=o("label",{for:"inputIdAccount"},"Fornecedor",-1),j={class:"form-control",id:"inputSupplier",name:"supplier",readonly:""},Q={key:1,class:"col-sm-4"},z={class:"form-group"},H=o("label",{for:"inputIdAccount"},"Imóvel",-1),T={class:"form-control",id:"inputSupplier",name:"supplier",readonly:""},G={key:2,class:"col-sm-4"},J=o("div",{class:"form-group"},[o("label",{for:"inputIdAccount"},"Imóvel"),o("div",{class:"form-control",id:"inputSupplier",name:"supplier",readonly:""}," - ")],-1),K=[J],W={class:"col-sm-4"},X={class:"form-group"},Y=o("label",{for:"inputDescription"},"Descrição",-1),Z={class:"col-sm-4"},x={class:"form-group"},oo=o("label",{for:"inputCategory"},"Categoria",-1),to={class:"form-control",id:"inputCategory",name:"category",readonly:""},eo={class:"row"},ao={class:"col-sm-3"},so={class:"form-group"},no=o("label",{for:"inputExpectDate"},"Data Vencimento",-1),io={class:"col-sm-3"},co={class:"form-group"},lo=o("label",{for:"inputOriginalValue"},"Valor Original",-1),ro={class:"input-group"},uo=o("div",{class:"input-group-prepend"},[o("span",{class:"input-group-text"},[o("i",{class:"fas fa-dollar-sign"})])],-1),po={class:"col-sm-6"},_o={class:"form-group"},mo=o("label",{for:"inputObservations"},"Observações",-1),vo=o("div",{class:"row"},[o("div",{class:"col-sm-12"},[o("div",{class:"card-footer"})])],-1),ho={class:"row"},fo={class:"col-sm-4"},go={class:"form-group"},yo=o("label",{for:"inputPaymentMethod"},"Método de Pagamento",-1),bo=o("option",{value:""},"Selecione a opção",-1),ko=["value"],Vo={key:1,class:"form-control",readonly:""},Do={class:"col-sm-4"},Co={class:"form-group"},Bo=o("label",{for:"inputDischargeDate"},"Data Quitação",-1),So={key:1,class:"form-control",readonly:""},$o={class:"col-sm-4"},Ao={class:"form-group"},Uo=o("label",{for:"inputStatus"},"Status",-1),wo=o("option",null,"Selecione o status",-1),Fo=["value"],Io={key:1,class:"form-control",readonly:""},Oo={class:"row"},Po={class:"col-sm-3"},Ro={class:"form-group"},Eo=o("label",{for:"inputPenaltyValue"},"Valor Multa",-1),Mo={key:0,class:"input-group"},qo=o("div",{class:"input-group-prepend"},[o("span",{class:"input-group-text"},[o("i",{class:"fas fa-dollar-sign"})])],-1),Lo={key:1,class:"form-group"},No={class:"form-control",readonly:""},jo={class:"col-sm-3"},Qo={class:"form-group"},zo=o("label",{for:"inputDiscountValue"},"Valor Desconto",-1),Ho={key:0,class:"input-group"},To=o("div",{class:"input-group-prepend"},[o("span",{class:"input-group-text"},[o("i",{class:"fas fa-dollar-sign"})])],-1),Go={key:1,class:"form-group"},Jo={class:"form-control",readonly:""},Ko={class:"col-sm-3"},Wo={class:"form-group"},Xo=o("label",{for:"inputFinalValue"},"Valor Final",-1),Yo={key:0,class:"input-group"},Zo=o("div",{class:"input-group-prepend"},[o("span",{class:"input-group-text"},[o("i",{class:"fas fa-dollar-sign"})])],-1),xo={key:1,class:"form-group"},ot={class:"form-control",readonly:""},tt={class:"col-sm-3"},et={class:"form-group"},at=o("label",{for:"inputObservations"},"Conta para Recebimento",-1),st=o("option",{value:""},"Selecione...",-1),nt=["id","value"],it={key:1,class:"form-control",readonly:""},ct=o("div",{class:"row"},null,-1),lt=o("br",null,null,-1),dt={class:"modal-footer justify-content-center"},rt=["title","disabled"];function ut(t,e,y,pt,_t,l){const d=S("money3");return s(),n("div",w,[o("div",F,[t.account.id_casher?(s(),n("h2",O,"Visualizar Conta Paga")):(s(),n("h2",I,"Baixar Conta")),o("div",P,[R,o("div",E,[o("div",M,[t.account&&t.account.supplier?(s(),n("div",q,[o("div",L,[N,o("div",j,i(t.account.supplier.name),1)])])):t.account&&t.account.property?(s(),n("div",Q,[o("div",z,[H,o("div",T,i(t.account.property.reference+" - "+t.account.property.description),1)])])):(s(),n("div",G,K)),o("div",W,[o("div",X,[Y,c(o("input",{type:"text",class:"form-control",id:"inputDescription",placeholder:"Descreva a Conta",name:"description","onUpdate:modelValue":e[0]||(e[0]=a=>t.account.description=a),readonly:""},null,512),[[p,t.account.description]])])]),o("div",Z,[o("div",x,[oo,o("div",to,i(t.category_account_receive[t.account.category]),1)])])]),o("div",eo,[o("div",ao,[o("div",so,[no,c(o("input",{type:"date",class:"form-control",id:"inputExpectDate",placeholder:"Informe a Data Esperada",name:"expect_date","onUpdate:modelValue":e[1]||(e[1]=a=>t.account.expect_date=a),readonly:""},null,512),[[p,t.account.expect_date]])])]),o("div",io,[o("div",co,[lo,o("div",ro,[uo,v(d,u({class:"form-control",modelValue:t.account.original_value,"onUpdate:modelValue":e[2]||(e[2]=a=>t.account.original_value=a)},t.config,{id:"inputOriginalValue",placeholder:"Venda",name:"original_value",readonly:""}),null,16,["modelValue"])])])]),o("div",po,[o("div",_o,[mo,c(o("input",{type:"text",class:"form-control",id:"inputObservations",placeholder:"Descreva a Observação",name:"observations",readonly:"","onUpdate:modelValue":e[3]||(e[3]=a=>t.account.observations=a)},null,512),[[p,t.account.observations]])])])]),vo,o("div",ho,[o("div",fo,[o("div",go,[yo,t.account.id_casher?(s(),n("div",Vo,i(t.payment_method[t.account.payment_method]),1)):c((s(),n("select",{key:0,class:"custom-select",id:"inputPaymentMethod",name:"payment_method","onUpdate:modelValue":e[4]||(e[4]=a=>t.account.payment_method=a)},[bo,(s(!0),n(f,null,g(t.payment_method,(a,r)=>(s(),n("option",{key:r,value:r},i(a),9,ko))),128))],512)),[[h,t.account.payment_method]])])]),o("div",Do,[o("div",Co,[Bo,t.account.id_casher?(s(),n("div",So,i(t.account.discharge_date),1)):c((s(),n("input",{key:0,type:"date",class:"form-control",id:"inputDischargeDate",placeholder:"Informe a data de Quitação",name:"discharge_date","onUpdate:modelValue":e[5]||(e[5]=a=>t.account.discharge_date=a),required:""},null,512)),[[p,t.account.discharge_date]])])]),o("div",$o,[o("div",Ao,[Uo,t.account.id_casher?(s(),n("div",Io,i(t.status_account_receive[t.account.status]),1)):c((s(),n("select",{key:0,class:"custom-select",id:"inputStatus",name:"status","onUpdate:modelValue":e[6]||(e[6]=a=>t.account.status=a),onBlur:e[7]||(e[7]=a=>l.treatValues())},[wo,(s(!0),n(f,null,g(t.status_account_receive,(a,r)=>(s(),n("option",{key:r,value:r},i(a),9,Fo))),128))],544)),[[h,t.account.status]])])])]),o("div",Oo,[o("div",Po,[o("div",Ro,[Eo,t.account.id_casher?(s(),n("div",Lo,[o("div",No," R$ "+i(t.account.penalty_value),1)])):(s(),n("div",Mo,[qo,v(d,u({class:"form-control",modelValue:t.account.penalty_value,"onUpdate:modelValue":e[8]||(e[8]=a=>t.account.penalty_value=a)},t.config,{id:"inputPenaltyValue",placeholder:"Locacao",name:"penalty_value",onBlur:e[9]||(e[9]=a=>l.treatValues())}),null,16,["modelValue"])]))])]),o("div",jo,[o("div",Qo,[zo,t.account.id_casher?(s(),n("div",Go,[o("div",Jo," R$ "+i(t.account.discount_value?t.account.discount_value:"0.00"),1)])):(s(),n("div",Ho,[To,v(d,u({class:"form-control",modelValue:t.account.discount_value,"onUpdate:modelValue":e[10]||(e[10]=a=>t.account.discount_value=a)},t.config,{id:"inputDiscountValue",placeholder:"Locacao",name:"discount value",onBlur:e[11]||(e[11]=a=>l.treatValues())}),null,16,["modelValue"])]))])]),o("div",Ko,[o("div",Wo,[Xo,t.account.id_casher?(s(),n("div",xo,[o("div",ot," R$ "+i(t.account.final_value),1)])):(s(),n("div",Yo,[Zo,t.account.final_value?(s(),b(d,u({key:0,class:"form-control",modelValue:t.account.final_value,"onUpdate:modelValue":e[12]||(e[12]=a=>t.account.final_value=a)},t.config,{id:"inputFinalValue",placeholder:"Iptu",name:"final_value",readonly:""}),null,16,["modelValue"])):(s(),b(d,u({key:1,class:"form-control",modelValue:t.account.original_value,"onUpdate:modelValue":e[13]||(e[13]=a=>t.account.original_value=a)},t.config,{id:"inputFinalValue",placeholder:"final_value",name:"final_value",readonly:""}),null,16,["modelValue"]))]))])]),o("div",tt,[o("div",et,[at,t.account.id_casher?(s(),n("div",it,i(t.account.bank_account.id+" - "+t.account.bank_account.bank_name+" - "+t.account.bank_account.account_name),1)):c((s(),n("select",{key:0,class:"custom-select",id:"inputIdAccount",name:"id_bank_account",required:"","onUpdate:modelValue":e[14]||(e[14]=a=>t.account.id_bank_account=a)},[st,(s(!0),n(f,null,g(t.bank_accounts,a=>(s(),n("option",{key:a.id,id:a.id,value:a.id},i(a.id+" - "+a.bank_name+" - "+a.account_name),9,nt))),128))],512)),[[h,t.account.id_bank_account]])])])]),ct,lt]),o("div",dt,[t.account.id_casher?$("",!0):(s(),n("button",{key:0,type:"submit",class:"btn btn-primary",onClick:e[15]||(e[15]=a=>l.updateAccount()),title:t.account.status!=2?"Altere o Status para Recebido":"",disabled:t.account.status!=2||!t.account.id_bank_account},"Baixar",8,rt)),o("button",{class:"btn btn-danger",onClick:e[16]||(e[16]=a=>l.back())},"Voltar")])])])])}const yt=A(U,[["render",ut]]);export{yt as default};
