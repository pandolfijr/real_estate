import{C as f,D as g,B as y,c as b}from"./utils-B-CemkDS.js";import{S as r}from"./sweetalert2-z6gKu1nJ.js";import{a as d}from"./axios-B4uVmeYG.js";import{r as C,o as a,c as i,a as t,t as l,j as n,k as p,F as m,h as _,v as h,b as V,m as D}from"./app-CaSvgjMt.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={watch:{},data:function(){return{data:{},account:{id:"",description:"",original_value:"",penalty_value:"",final_value:"",type:2,status:1,payment_method:"",category:"",observations:"",discharge_date:"",expect_date:"",id_supplier:"",id_check:""},config:{decimal:",",thousands:".",prefix:"R$ ",precision:2,masked:!1},suppliers:{},status_account:f,category_account_receive:g,payment_method:y,onError:b}},methods:{getAccount(){d.get("/accounts-receive/"+this.$route.params.id).then(o=>{this.account=o.data.account}).catch(o=>{console.error("Houve um problema com a requisição:",o)})},saveAccount(){return this.validateDischargeDate()?d.post("/accounts-receive",this.account).then(o=>{r.fire({position:"top-end",icon:"success",title:o.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(o=>{o=this.onError(o),r.fire({position:"top-end",icon:"error",title:o.message,showConfirmButton:!1,timer:2500})}):!1},updateAccount(){d.put("/accounts-receive/"+this.$route.params.id,this.account).then(o=>{r.fire({position:"top-end",icon:"success",title:o.data.message,showConfirmButton:!1,timer:2500}),this.$router.go(-1)}).catch(o=>{o=this.onError(o),r.fire({position:"top-end",icon:"error",title:o.message,showConfirmButton:!1,timer:2500})})},getSuppliers(){d.get("/suppliers").then(o=>{this.suppliers=o.data.suppliers.data}).catch(o=>{console.error("Houve um problema com a requisição:",o)})},validateDischargeDate(){return this.account.status==2&&this.account.discharge_date==""?(r.fire({position:"top-end",icon:"error",title:"O campo data de quitação é obrigatório",showConfirmButton:!1,timer:2500}),!1):!0},back(){this.$router.go(-1)}},created(){this.getSuppliers(),this.$route.params.id&&this.getAccount()}},w={class:"container-fluid"},$={class:"col-md-12"},A=t("h2",null,"Conta à Receber",-1),B={class:"card card-primary"},E={class:"card-header"},O={class:"card-title"},U={class:"card-body"},q={class:"row"},M={class:"col-sm-4"},F={class:"form-group"},P=t("label",{for:"inputCategory"},"Categoria",-1),I=t("option",{value:""},"Selecione a categoria",-1),R=["value"],j={class:"col-sm-4"},H={class:"form-group"},N=t("label",{for:"inputIdAccount"},"Fornecedor",-1),z=t("option",{value:""},"Selecione o Fornecedor",-1),L=["id","value"],T={class:"col-sm-4"},G={class:"form-group"},J=t("label",{for:"inputDescription"},"Descrição",-1),K={class:"row"},Q={class:"col-sm-4"},W={class:"form-group"},X=t("label",{for:"inputStatus"},"Status",-1),Y={class:"form-control",id:"inputStatus",name:"status",readonly:""},Z={class:"col-sm-4"},x={class:"form-group"},tt=t("label",{for:"inputExpectDate"},"Data Vencimento",-1),ot={class:"col-sm-4"},et={class:"form-group"},st=t("label",{for:"inputPaymentMethod"},"Método de Pagamento",-1),at=t("option",{value:""},"Selecione a opção",-1),it=["value"],nt={class:"row"},ct={class:"col-sm-4"},rt={class:"form-group"},lt=t("label",{for:"inputOriginalValue"},"Valor",-1),dt={class:"input-group"},ut=t("div",{class:"input-group-prepend"},[t("span",{class:"input-group-text"},[t("i",{class:"fas fa-dollar-sign"})])],-1),pt={class:"col-sm-8"},mt={class:"form-group"},_t=t("label",{for:"inputObservations"},"Observações",-1),ht=t("div",{class:"row"},[t("div",{class:"col-sm-12"},[t("div",{class:"card-footer"})])],-1),vt={class:"modal-footer justify-content-center"};function ft(o,s,gt,yt,bt,u){const v=C("money3");return a(),i("div",w,[t("div",$,[A,t("div",B,[t("div",E,[t("h3",O,l(o.account.id?"Editar Conta":"Cadastrar Conta"),1)]),t("div",U,[t("div",q,[t("div",M,[t("div",F,[P,n(t("select",{class:"custom-select",id:"inputCategory",name:"category","onUpdate:modelValue":s[0]||(s[0]=e=>o.account.category=e)},[I,(a(!0),i(m,null,_(o.category_account_receive,(e,c)=>(a(),i("option",{key:c,value:c},l(e),9,R))),128))],512),[[p,o.account.category]])])]),t("div",j,[t("div",H,[N,n(t("select",{class:"custom-select",id:"inputIdAccount",name:"id_supplier",required:"","onUpdate:modelValue":s[1]||(s[1]=e=>o.account.id_supplier=e)},[z,(a(!0),i(m,null,_(o.suppliers,e=>(a(),i("option",{key:e.id,id:e.id,value:e.id},l(e.name),9,L))),128))],512),[[p,o.account.id_supplier]])])]),t("div",T,[t("div",G,[J,n(t("input",{type:"text",class:"form-control",id:"inputDescription",placeholder:"Descreva a Conta",name:"description","onUpdate:modelValue":s[2]||(s[2]=e=>o.account.description=e)},null,512),[[h,o.account.description]])])])]),t("div",K,[t("div",Q,[t("div",W,[X,t("div",Y,l(o.status_account[o.account.status]),1)])]),t("div",Z,[t("div",x,[tt,n(t("input",{type:"date",class:"form-control",id:"inputExpectDate",placeholder:"Informe a Data Esperada",name:"expect_date","onUpdate:modelValue":s[3]||(s[3]=e=>o.account.expect_date=e),required:""},null,512),[[h,o.account.expect_date]])])]),t("div",ot,[t("div",et,[st,n(t("select",{class:"custom-select",id:"inputPaymentMethod",name:"payment_method","onUpdate:modelValue":s[4]||(s[4]=e=>o.account.payment_method=e)},[at,(a(!0),i(m,null,_(o.payment_method,(e,c)=>(a(),i("option",{key:c,value:c},l(e),9,it))),128))],512),[[p,o.account.payment_method]])])])]),t("div",nt,[t("div",ct,[t("div",rt,[lt,t("div",dt,[ut,V(v,D({class:"form-control",modelValue:o.account.original_value,"onUpdate:modelValue":s[5]||(s[5]=e=>o.account.original_value=e)},o.config,{id:"inputOriginalValue",placeholder:"Venda",name:"original_value"}),null,16,["modelValue"])])])]),t("div",pt,[t("div",mt,[_t,n(t("input",{type:"text",class:"form-control",id:"inputObservations",placeholder:"Descreva a Observação",name:"observations","onUpdate:modelValue":s[6]||(s[6]=e=>o.account.observations=e)},null,512),[[h,o.account.observations]])])])]),ht]),t("div",vt,[o.account.id?(a(),i("button",{key:0,type:"submit",class:"btn btn-primary",onClick:s[7]||(s[7]=e=>u.updateAccount())},"Atualizar")):(a(),i("button",{key:1,type:"submit",class:"btn btn-primary",onClick:s[8]||(s[8]=e=>u.saveAccount())},"Salvar")),t("button",{class:"btn btn-danger",onClick:s[9]||(s[9]=e=>u.back())},"Voltar")])])])])}const wt=k(S,[["render",ft]]);export{wt as default};
