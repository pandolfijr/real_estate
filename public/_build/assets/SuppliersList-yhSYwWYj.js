import{a as c}from"./axios-B4uVmeYG.js";import{S as n}from"./sweetalert2-z6gKu1nJ.js";import f from"./Search-vYh6-uUS.js";import{b as _}from"./utils-B-CemkDS.js";import{r as d,o as r,c as a,a as t,b as u,F as b,h as g,t as i,w as C}from"./app-CaSvgjMt.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={data:function(){return{suppliers:{},phoneMask:_}},components:{Search:f},methods:{getSuppliers(e){c.get("/suppliers",{params:e}).then(o=>{this.suppliers=o.data.suppliers.data}).catch(o=>{n.fire({position:"top-end",icon:"error",title:o.response.data.message,showConfirmButton:!1,timer:2500})})},delete(e){c.delete("/suppliers/"+e).then(o=>{n.fire({position:"top-end",icon:"success",title:o.data.message,showConfirmButton:!1,timer:2500}),this.$router.go()}).catch(o=>{n.fire({position:"top-end",icon:"error",title:o.response.data.message,showConfirmButton:!1,timer:2500})})},restore(e){c.post("/supplier/"+e+"/restore").then(o=>{n.fire({position:"top-end",icon:"success",title:o.data.message,showConfirmButton:!1,timer:2500}),this.$router.go()}).catch(o=>{n.fire({position:"top-end",icon:"error",title:o.response.data.message,showConfirmButton:!1,timer:2500})})},deleteSupplier(e){n.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, proprietário será removido.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&this.delete(e)})},restoreSupplier(e){n.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, o proprietário será restaurado.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&this.restore(e)})},updatePage(e){this.currentPage=e,this.getSupplier()}},created(){this.getSuppliers()}},x={class:"container-fluid"},B={class:"col-md-12"},k=t("h2",null,"Fornecedores",-1),w={class:"card card-primary"},v=t("div",{class:"card-header"},[t("h3",{class:"card-title"}," Fornecedores ")],-1),F={class:"card-body table-responsive p-0",style:{}},M={key:0,class:"scrollable text-left"},T={class:"table table-head-fixed text-nowrap text-left table-striped"},$=t("thead",null,[t("tr",null,[t("th",{class:"md='auto'"},"ID"),t("th",{class:"md='auto'"},"Nome"),t("th",{class:"md='auto'"},"E-mail"),t("th",{class:"md='auto'"},"Telefone"),t("th",{class:"md='auto'"}),t("th",{class:"md='auto'"})])],-1),E=t("button",{type:"button",class:"btn btn-outline-primary",title:"Editar",style:{"margin-top":"-0.5em"}},[t("i",{class:"fas fa-pencil-alt"})],-1),N={style:{"text-align":"center"}},V=["onClick"],I=t("i",{class:"fas fa-plus"},null,-1),z=[I],A=["onClick"],D=t("i",{class:"fas fa-trash"},null,-1),L=[D],P={key:1},R=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhum fornecedor encontrado.")])])])],-1),j=[R];function q(e,o,G,H,J,l){const p=d("search"),m=d("router-link");return r(),a("div",x,[t("div",B,[k,u(p,{route:"supplier",onSearch:l.getSuppliers},null,8,["onSearch"]),t("div",w,[v,t("div",F,[e.suppliers&&e.suppliers.length>0?(r(),a("div",M,[t("table",T,[$,t("tbody",null,[(r(!0),a(b,null,g(e.suppliers,s=>(r(),a("tr",{key:s.id},[t("td",null,[t("b",null,i(s.id),1)]),t("td",null,i(s.name)+" "+i(s.surname),1),t("td",null,i(s.email),1),t("td",null,i(e.phoneMask(s.cellphone)),1),t("td",null,[u(m,{to:"/supplier/"+s.id+"/edit",class:"small-box-footer"},{default:C(()=>[E]),_:2},1032,["to"])]),t("td",null,[t("div",N,[s.deleted_at?(r(),a("button",{key:0,type:"button",class:"btn btn-outline-success",onClick:h=>l.restoreSupplier(s.id),"data-toggle":"modal",style:{"margin-top":"-0.5em"},title:"Restaurar Fornecedor"},z,8,V)):(r(),a("button",{key:1,type:"button",class:"btn btn-outline-danger",onClick:h=>l.deleteSupplier(s.id),"data-toggle":"modal",style:{"margin-top":"-0.5em"},title:"Excluir Fornecedor"},L,8,A))])])]))),128))])])])):(r(),a("div",P,j))])])])])}const Y=y(S,[["render",q]]);export{Y as default};
