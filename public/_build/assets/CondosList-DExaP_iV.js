import{a as l}from"./axios-B4uVmeYG.js";import{S as n}from"./sweetalert2-z6gKu1nJ.js";import p from"./Search-vYh6-uUS.js";import{n as f}from"./utils-B-CemkDS.js";import{r as d,o as a,c as i,a as t,b as m,F as C,h as b,t as r,w as y}from"./app-CaSvgjMt.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={data:function(){return{condos:{},type_condo:f,cities:{}}},components:{Search:p},methods:{getCondos(o){l.get("/condos",{params:o}).then(e=>{this.condos=e.data.condos.data}).catch(e=>{n.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:2500})})},delete(o){l.delete("/condos/"+o).then(e=>{n.fire({text:e.data.message,icon:"success"})}).catch(e=>{n.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:4500})})},restore(o){l.post("/condo/"+o+"/restore").then(e=>{n.fire({text:e.data.message,icon:"success"})}).catch(e=>{n.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:2500})})},deleteCondo(o){n.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, o condomínio/prédio será removido.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&this.delete(o)})},restoreCondo(o){n.fire({title:"Você tem certeza?",text:"Ao clicar em SIM, o condomínio/prédio será restaurado.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&this.restore(o)})}},beforeMount(){this.getCondos()}},B={class:"container-fluid"},k={class:"col-md-12"},v=t("h2",null," Condomínios / Prédios",-1),w={class:"card card-primary"},S=t("div",{class:"card-header"},[t("h3",{class:"card-title"}," Condomínio / Prédios ")],-1),T={class:"card-body table-responsive p-0",style:{}},P={key:0,class:"scrollable text-left"},V={class:"table table-head-fixed text-nowrap text-left table-striped"},D=t("thead",null,[t("tr",null,[t("th",{class:"md='auto'"},"ID"),t("th",{class:"md='auto'"},"Descrição"),t("th",{class:"md='auto'"},"Tipo"),t("th",{class:"md='auto'"},"Cidade"),t("th",{class:"md='auto'"}),t("th",{class:"md='auto'"})])],-1),E=t("button",{type:"button",class:"btn btn-outline-primary",title:"Editar",style:{"margin-top":"-0.5em"}},[t("i",{class:"fas fa-pencil-alt"})],-1),I={style:{"text-align":"center"}},M=["onClick"],N=t("i",{class:"fas fa-plus"},null,-1),$=[N],z=["onClick"],A=t("i",{class:"fas fa-trash"},null,-1),F=[A],L={key:1},R=t("table",{class:"table table-head-fixed text-nowrap"},[t("tbody",null,[t("tr",{class:"text-center"},[t("td",{class:"text-center"},[t("b",null,"Nenhum condomínio / prédio encontrado.")])])])],-1),j=[R];function q(o,e,G,H,J,c){const u=d("search"),h=d("router-link");return a(),i("div",B,[t("div",k,[v,m(u,{route:"condo",onSearch:c.getCondos},null,8,["onSearch"]),t("div",w,[S,t("div",T,[o.condos&&o.condos.length>0?(a(),i("div",P,[t("table",V,[D,t("tbody",null,[(a(!0),i(C,null,b(o.condos,s=>(a(),i("tr",{key:s.id},[t("td",null,[t("b",null,r(s.id),1)]),t("td",null,r(s.description),1),t("td",null,r(o.type_condo[s.type]),1),t("td",null,r(s.city.name),1),t("td",null,[m(h,{to:"/condo/"+s.id+"/edit",class:"small-box-footer"},{default:y(()=>[E]),_:2},1032,["to"])]),t("td",null,[t("div",I,[s.deleted_at?(a(),i("button",{key:0,type:"button",class:"btn btn-outline-success",onClick:_=>c.restoreCondo(s.id),"data-toggle":"modal",style:{"margin-top":"-0.5em"},title:"Restaurar Condomínio / Prédio"},$,8,M)):(a(),i("button",{key:1,type:"button",class:"btn btn-outline-danger",onClick:_=>c.deleteCondo(s.id),"data-toggle":"modal",style:{"margin-top":"-0.5em"},title:"Excluir Condomínio / Prédio"},F,8,z))])])]))),128))])])])):(a(),i("div",L,j))])])])])}const Y=g(x,[["render",q]]);export{Y as default};
